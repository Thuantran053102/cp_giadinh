{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.createAnimatedOperator=createAnimatedOperator;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _AnimatedNode2=_interopRequireDefault(require(\"./AnimatedNode\"));var _val=require(\"../val\");var _invariant=_interopRequireDefault(require(\"invariant\"));var _AnimatedBlock=require(\"../core/AnimatedBlock\");function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function reduce(fn){return function(input){return input.reduce(function(a,b){return fn((0,_val.val)(a),(0,_val.val)(b));});};}function reduceFrom(fn,initialValue){return function(input){return input.reduce(function(a,b){return fn((0,_val.val)(a),(0,_val.val)(b));},initialValue);};}function infix(fn){return function(input){return fn((0,_val.val)(input[0]),(0,_val.val)(input[1]));};}function single(fn){return function(input){return fn((0,_val.val)(input[0]));};}var OPERATIONS={add:reduce(function(a,b){return a+b;}),sub:reduce(function(a,b){return a-b;}),multiply:reduce(function(a,b){return a*b;}),divide:reduce(function(a,b){return a/b;}),pow:reduce(function(a,b){return Math.pow(a,b);}),modulo:reduce(function(a,b){return(a%b+b)%b;}),sqrt:single(function(a){return Math.sqrt(a);}),log:single(function(a){return Math.log(a);}),sin:single(function(a){return Math.sin(a);}),cos:single(function(a){return Math.cos(a);}),tan:single(function(a){return Math.tan(a);}),acos:single(function(a){return Math.acos(a);}),asin:single(function(a){return Math.asin(a);}),atan:single(function(a){return Math.atan(a);}),exp:single(function(a){return Math.exp(a);}),round:single(function(a){return Math.round(a);}),abs:single(function(a){return Math.abs(a);}),ceil:single(function(a){return Math.ceil(a);}),floor:single(function(a){return Math.floor(a);}),max:reduce(function(a,b){return Math.max(a,b);}),min:reduce(function(a,b){return Math.min(a,b);}),and:reduceFrom(function(a,b){return a&&b;},true),or:reduceFrom(function(a,b){return a||b;},false),not:single(function(a){return!a;}),defined:single(function(a){return a!==null&&a!==undefined&&!isNaN(a);}),lessThan:infix(function(a,b){return a<b;}),eq:infix(function(a,b){return a==b;}),greaterThan:infix(function(a,b){return a>b;}),lessOrEq:infix(function(a,b){return a<=b;}),greaterOrEq:infix(function(a,b){return a>=b;}),neq:infix(function(a,b){return a!=b;})};var AnimatedOperator=function(_AnimatedNode){(0,_inherits2.default)(AnimatedOperator,_AnimatedNode);var _super=_createSuper(AnimatedOperator);function AnimatedOperator(operator,input){var _this;(0,_classCallCheck2.default)(this,AnimatedOperator);(0,_invariant.default)(typeof operator==='string',\"Reanimated: Animated.operator node first argument should be of type String, but got: \"+operator);(0,_invariant.default)(input.every(function(el){return el instanceof _AnimatedNode2.default||typeof el==='string'||typeof el==='number';}),\"Reanimated: Animated.operator node second argument should be one or more of type AnimatedNode, String or Number but got \"+input);_this=_super.call(this,{type:'op',op:operator,input:input},input);_this._op=operator;_this._input=input;return _this;}(0,_createClass2.default)(AnimatedOperator,[{key:\"toString\",value:function toString(){return\"AnimatedOperator, id: \"+this.__nodeID;}},{key:\"__onEvaluate\",value:function __onEvaluate(){if(!this._operation){this._operation=OPERATIONS[this._op];(0,_invariant.default)(this._operation,\"Illegal operator '%s'\",this._op);}return this._operation(this._input);}}]);return AnimatedOperator;}(_AnimatedNode2.default);function createAnimatedOperator(name){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return new AnimatedOperator(name,args.map(_AnimatedBlock.adapt));};}","map":{"version":3,"names":["reduce","fn","input","a","b","val","reduceFrom","initialValue","infix","single","OPERATIONS","add","sub","multiply","divide","pow","Math","modulo","sqrt","log","sin","cos","tan","acos","asin","atan","exp","round","abs","ceil","floor","max","min","and","or","not","defined","undefined","isNaN","lessThan","eq","greaterThan","lessOrEq","greaterOrEq","neq","AnimatedOperator","operator","invariant","every","el","AnimatedNode","type","op","_op","_input","__nodeID","_operation","createAnimatedOperator","name","args","map","adapt"],"sources":["D:/React_Native/SourceCode_VPM_Swine/node_modules/react-native-reanimated/lib/reanimated1/core/AnimatedOperator.js"],"sourcesContent":["import AnimatedNode from './AnimatedNode';\nimport { val } from '../val';\n\nimport invariant from 'invariant';\nimport { adapt } from '../core/AnimatedBlock';\n\nfunction reduce(fn) {\n  return (input) => input.reduce((a, b) => fn(val(a), val(b)));\n}\n\nfunction reduceFrom(fn, initialValue) {\n  return (input) => input.reduce((a, b) => fn(val(a), val(b)), initialValue);\n}\n\nfunction infix(fn) {\n  return (input) => fn(val(input[0]), val(input[1]));\n}\n\nfunction single(fn) {\n  return (input) => fn(val(input[0]));\n}\n\nconst OPERATIONS = {\n  // arithmetic\n  add: reduce((a, b) => a + b),\n  sub: reduce((a, b) => a - b),\n  multiply: reduce((a, b) => a * b),\n  divide: reduce((a, b) => a / b),\n  pow: reduce((a, b) => Math.pow(a, b)),\n  modulo: reduce((a, b) => ((a % b) + b) % b),\n  sqrt: single((a) => Math.sqrt(a)),\n  log: single((a) => Math.log(a)),\n  sin: single((a) => Math.sin(a)),\n  cos: single((a) => Math.cos(a)),\n  tan: single((a) => Math.tan(a)),\n  acos: single((a) => Math.acos(a)),\n  asin: single((a) => Math.asin(a)),\n  atan: single((a) => Math.atan(a)),\n  exp: single((a) => Math.exp(a)),\n  round: single((a) => Math.round(a)),\n  abs: single((a) => Math.abs(a)),\n  ceil: single((a) => Math.ceil(a)),\n  floor: single((a) => Math.floor(a)),\n  max: reduce((a, b) => Math.max(a, b)),\n  min: reduce((a, b) => Math.min(a, b)),\n\n  // logical\n  and: reduceFrom((a, b) => a && b, true),\n  or: reduceFrom((a, b) => a || b, false),\n  not: single((a) => !a),\n  defined: single((a) => a !== null && a !== undefined && !isNaN(a)),\n\n  // comparing\n  lessThan: infix((a, b) => a < b),\n  /* eslint-disable-next-line eqeqeq */\n  eq: infix((a, b) => a == b),\n  greaterThan: infix((a, b) => a > b),\n  lessOrEq: infix((a, b) => a <= b),\n  greaterOrEq: infix((a, b) => a >= b),\n  /* eslint-disable-next-line eqeqeq */\n  neq: infix((a, b) => a != b),\n};\n\nclass AnimatedOperator extends AnimatedNode {\n  _input;\n  _op;\n  _operation;\n\n  constructor(operator, input) {\n    invariant(\n      typeof operator === 'string',\n      `Reanimated: Animated.operator node first argument should be of type String, but got: ${operator}`\n    );\n    invariant(\n      input.every(\n        (el) =>\n          el instanceof AnimatedNode ||\n          typeof el === 'string' ||\n          typeof el === 'number'\n      ),\n      `Reanimated: Animated.operator node second argument should be one or more of type AnimatedNode, String or Number but got ${input}`\n    );\n    super({ type: 'op', op: operator, input }, input);\n    this._op = operator;\n    this._input = input;\n  }\n\n  toString() {\n    return `AnimatedOperator, id: ${this.__nodeID}`;\n  }\n\n  __onEvaluate() {\n    if (!this._operation) {\n      this._operation = OPERATIONS[this._op];\n      invariant(this._operation, `Illegal operator '%s'`, this._op);\n    }\n    return this._operation(this._input);\n  }\n}\n\nexport function createAnimatedOperator(name) {\n  return (...args) => new AnimatedOperator(name, args.map(adapt));\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}