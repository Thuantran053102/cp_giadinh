{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _nativeBase=require(\"native-base\");var Progress=_interopRequireWildcard(require(\"react-native-progress\"));var _reactNativeGestureHandler=require(\"react-native-gesture-handler\");var _reactNativeImageView=_interopRequireDefault(require(\"react-native-image-view\"));var _func=require(\"../func\");function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var StatusItem=function(_Component){(0,_inherits2.default)(StatusItem,_Component);var _super=_createSuper(StatusItem);function StatusItem(){var _this;(0,_classCallCheck2.default)(this,StatusItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={images:[],show:false};_this.showImage=function(){var wo_image=_this.props.wo_image;var arr=[];wo_image.forEach(function(item,i){var obj={source:{uri:item.file_name},title:'Ảnh '+i,width:806,height:720};arr.push(obj);});_this.setState({images:arr,show:true});};_this.Close=function(){_this.setState({show:false});};return _this;}(0,_createClass2.default)(StatusItem,[{key:\"render\",value:function render(){var _this2=this;var wo_state_code=this.props.wo_state_code;var bar=0.01;var bg=\"blue\";switch(wo_state_code){case\"11\":bar=0.01;break;case\"12\":bar=0.25;bg=\"#ffcc29\";break;case\"13\":bar=0.5;bg=\"#8b5e83\";break;case\"14\":bar=0.75;bg=\"#51c2d5\";break;case\"15\":bar=1;bg=\"#61b15a\";break;case\"16\":bar=0.01;bg=\"#ff0000\";break;case\"17\":bar=0.25;bg=\"#ffcc29\";break;default:break;}return _react.default.createElement(_reactNative.View,{style:{backgroundColor:\"white\",borderRadius:15,padding:20,borderLeftWidth:5,borderLeftColor:bg,marginBottom:15}},_react.default.createElement(_reactNativeImageView.default,{images:this.state.images,imageIndex:0,onClose:this.Close,isVisible:this.state.show}),_react.default.createElement(_nativeBase.Text,{style:{marginBottom:10,fontWeight:\"bold\",textTransform:\"uppercase\",color:\"green\"}},this.props.wono),_react.default.createElement(_nativeBase.Text,{style:{marginBottom:10,fontWeight:\"bold\",textTransform:\"capitalize\"}},this.props.mc_name_vn),_react.default.createElement(_nativeBase.Text,{style:{marginBottom:10,color:\"#333\",textTransform:\"lowercase\"}},this.props.er_name_vn),_react.default.createElement(_reactNative.ScrollView,{horizontal:true,showsHorizontalScrollIndicator:false,style:style.itemStatus},wo_state_code===\"14\"||wo_state_code===\"15\"?this.props.wo_image_result.map(function(img){return _react.default.createElement(_reactNativeGestureHandler.TouchableOpacity,{onPress:_this2.showImage},_react.default.createElement(_nativeBase.Thumbnail,{style:{marginRight:5,borderRadius:5},large:true,square:true,source:{uri:img.file_name}}));}):this.props.wo_image.map(function(img){return _react.default.createElement(_reactNativeGestureHandler.TouchableOpacity,{onPress:_this2.showImage},_react.default.createElement(_nativeBase.Thumbnail,{style:{marginRight:5,borderRadius:5},large:true,square:true,source:{uri:img.file_name}}));})),_react.default.createElement(Progress.Bar,{color:bg,progress:bar,width:_reactNative.Dimensions.get(\"screen\").width-74}),_react.default.createElement(_nativeBase.Text,{style:{marginTop:5,marginBottom:10}},this.props.wo_state_name),this.props.rule===_func.UserType.Engineer&&_react.default.createElement(_nativeBase.Button,{full:true,style:{borderRadius:5},onPress:function onPress(){return _this2.props.navigation.navigate(\"EDetailStatus\",{data:_this2.props.data});}},_react.default.createElement(_nativeBase.Text,{uppercase:false},\"Xem chi ti\\u1EBFt\")),this.props.rule===null&&_react.default.createElement(_nativeBase.Button,{full:true,style:{borderRadius:5},onPress:function onPress(){return _this2.props.navigation.navigate(\"UserDetailStatus\",{data:_this2.props.data});}},_react.default.createElement(_nativeBase.Text,{uppercase:false},\"Xem chi ti\\u1EBFt\")));}}]);return StatusItem;}(_react.Component);var _default=StatusItem;exports.default=_default;StatusItem.defaultProps={rule:null};var style=_reactNative.StyleSheet.create({itemStatus:{borderBottomWidth:1,paddingBottom:15,borderBottomColor:\"#ddd\",marginBottom:10}});","map":{"version":3,"names":["StatusItem","state","images","show","showImage","wo_image","props","arr","forEach","item","i","obj","source","uri","file_name","title","width","height","push","setState","Close","wo_state_code","bar","bg","backgroundColor","borderRadius","padding","borderLeftWidth","borderLeftColor","marginBottom","fontWeight","textTransform","color","wono","mc_name_vn","er_name_vn","style","itemStatus","wo_image_result","map","img","marginRight","Dimensions","get","marginTop","wo_state_name","rule","UserType","Engineer","navigation","navigate","data","Component","defaultProps","StyleSheet","create","borderBottomWidth","paddingBottom","borderBottomColor"],"sources":["D:/React_Native/SourceCode_VPM_Swine/components/StatusItem.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { View, StyleSheet, Dimensions, ScrollView } from 'react-native';\nimport { Text, Thumbnail, Button } from 'native-base';\nimport * as Progress from 'react-native-progress';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport ImageView from 'react-native-image-view';\nimport { UserType } from '../func';\n\nclass StatusItem extends Component {\n    state = {\n        images: [],\n        show: false\n    }\n\n    showImage = () => {\n        let { wo_image } = this.props;\n        let arr = [];\n        wo_image.forEach((item, i) => {\n            let obj = {\n                source: {\n                    uri: item.file_name,\n                },\n                title: 'Ảnh ' + i,\n                width: 806,\n                height: 720,\n            }\n            arr.push(obj)\n        })\n        this.setState({ images: arr, show: true })\n\n    }\n\n    Close = () => {\n        this.setState({ show: false })\n    }\n\n    render() {\n        let {wo_state_code} = this.props;\n        let bar = 0.01;\n        let bg = \"blue\";\n        switch (wo_state_code) {\n            case \"11\":\n                bar = 0.01;\n                break;\n            case \"12\":\n                bar = 0.25;\n                bg = \"#ffcc29\"\n                break;\n            case \"13\":\n                bar = 0.5;\n                bg = \"#8b5e83\"\n                break;\n            case \"14\":\n                bar = 0.75;\n                bg = \"#51c2d5\"\n                break;\n            case \"15\":\n                bar = 1;\n                bg = \"#61b15a\"\n                break;\n            case \"16\":\n                bar = 0.01;\n                bg = \"#ff0000\"\n                break;\n            case \"17\":\n                bar = 0.25;\n                bg = \"#ffcc29\"\n                break;\n            default:\n                break;\n        }\n        return (<View style={{\n            backgroundColor: \"white\",\n            borderRadius: 15,\n            padding: 20,\n            borderLeftWidth: 5,\n            borderLeftColor: bg,\n            marginBottom: 15\n        }}>\n            <ImageView\n                images={this.state.images}\n                imageIndex={0}\n                onClose={this.Close}\n                isVisible={this.state.show}\n            // renderFooter={(currentImage) => (<View><Text>My footer</Text></View>)}\n            />\n            <Text style={{ marginBottom: 10, fontWeight: \"bold\", textTransform: \"uppercase\", color: \"green\" }}>{this.props.wono}</Text>\n            <Text style={{ marginBottom: 10, fontWeight: \"bold\", textTransform: \"capitalize\" }}>{this.props.mc_name_vn}</Text>\n            <Text style={{ marginBottom: 10, color: \"#333\", textTransform: \"lowercase\" }}>{this.props.er_name_vn}</Text>\n            <ScrollView horizontal={true} showsHorizontalScrollIndicator={false} style={style.itemStatus}>\n                {\n                    wo_state_code===\"14\" || wo_state_code===\"15\"?\n                    this.props.wo_image_result.map(img => {\n                        return <TouchableOpacity onPress={this.showImage}><Thumbnail style={{ marginRight: 5, borderRadius: 5 }} large square source={{ uri: img.file_name }} /></TouchableOpacity>\n                    }):\n                    this.props.wo_image.map(img => {\n                        return <TouchableOpacity onPress={this.showImage}><Thumbnail style={{ marginRight: 5, borderRadius: 5 }} large square source={{ uri: img.file_name }} /></TouchableOpacity>\n                    })\n                }\n            </ScrollView>\n            <Progress.Bar color={bg} progress={bar} width={Dimensions.get(\"screen\").width - 74} />\n            <Text style={{ marginTop: 5, marginBottom: 10 }}>{this.props.wo_state_name}</Text>\n            {this.props.rule === UserType.Engineer && <Button full style={{borderRadius: 5}} onPress={() => this.props.navigation.navigate(\"EDetailStatus\", { data: this.props.data })}><Text uppercase={false}>Xem chi tiết</Text></Button>}\n            {this.props.rule === null && <Button full style={{borderRadius: 5}} onPress={() => this.props.navigation.navigate(\"UserDetailStatus\", { data: this.props.data })}><Text uppercase={false}>Xem chi tiết</Text></Button>}\n        </View>)\n    }\n}\n\nexport default StatusItem;\n\n\nStatusItem.defaultProps = {\n    rule: null\n}\n\nconst style = StyleSheet.create({\n    itemStatus: {\n        borderBottomWidth: 1,\n        paddingBottom: 15,\n        borderBottomColor: \"#ddd\",\n        marginBottom: 10\n    }\n})"],"mappings":"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"},"metadata":{},"sourceType":"script"}