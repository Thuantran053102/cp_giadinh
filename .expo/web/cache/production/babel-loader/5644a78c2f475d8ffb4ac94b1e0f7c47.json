{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.useAnimatedStyle=useAnimatedStyle;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _react=require(\"react\");var _core=require(\"../core\");var _UpdateProps=_interopRequireWildcard(require(\"../UpdateProps\"));var _animation=require(\"../animation\");var _NativeReanimated=_interopRequireDefault(require(\"../NativeReanimated\"));var _useSharedValue=require(\"./useSharedValue\");var _utils=require(\"./utils\");var _ViewDescriptorsSet=require(\"../ViewDescriptorsSet\");var _PlatformChecker=require(\"../PlatformChecker\");function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function prepareAnimation(animatedProp,lastAnimation,lastValue){'worklet';if(Array.isArray(animatedProp)){animatedProp.forEach(function(prop,index){return prepareAnimation(prop,lastAnimation&&lastAnimation[index],lastValue&&lastValue[index]);});}if(typeof animatedProp==='object'&&animatedProp.onFrame){var animation=animatedProp;var value=animation.current;if(lastValue!==undefined){if(typeof lastValue==='object'){if(lastValue.value!==undefined){value=lastValue.value;}else if(lastValue.onFrame!==undefined){if((lastAnimation===null||lastAnimation===void 0?void 0:lastAnimation.current)!==undefined){value=lastAnimation.current;}else if((lastValue===null||lastValue===void 0?void 0:lastValue.current)!==undefined){value=lastValue.current;}}}else{value=lastValue;}}animation.callStart=function(timestamp){animation.onStart(animation,value,timestamp,lastAnimation);};animation.callStart((0,_core.getTimestamp)());animation.callStart=null;}else if(typeof animatedProp==='object'){Object.keys(animatedProp).forEach(function(key){return prepareAnimation(animatedProp[key],lastAnimation&&lastAnimation[key],lastValue&&lastValue[key]);});}}function runAnimations(animation,timestamp,key,result,animationsActive){'worklet';if(!animationsActive.value){return true;}if(Array.isArray(animation)){result[key]=[];var allFinished=true;animation.forEach(function(entry,index){if(!runAnimations(entry,timestamp,index,result[key],animationsActive)){allFinished=false;}});return allFinished;}else if(typeof animation==='object'&&animation.onFrame){var finished=true;if(!animation.finished){if(animation.callStart){animation.callStart(timestamp);animation.callStart=null;}finished=animation.onFrame(animation,timestamp);animation.timestamp=timestamp;if(finished){animation.finished=true;animation.callback&&animation.callback(true);}}result[key]=animation.current;return finished;}else if(typeof animation==='object'){result[key]={};var _allFinished=true;Object.keys(animation).forEach(function(k){if(!runAnimations(animation[k],timestamp,k,result[key],animationsActive)){_allFinished=false;}});return _allFinished;}else{result[key]=animation;return true;}}function styleUpdater(viewDescriptors,updater,state,maybeViewRef,animationsActive){'worklet';var _a,_b;var animations=(_a=state.animations)!==null&&_a!==void 0?_a:{};var newValues=(_b=updater())!==null&&_b!==void 0?_b:{};var oldValues=state.last;var hasAnimations=false;for(var key in newValues){var value=newValues[key];if((0,_utils.isAnimated)(value)){prepareAnimation(value,animations[key],oldValues[key]);animations[key]=value;hasAnimations=true;}else{delete animations[key];}}if(hasAnimations){var frame=function frame(timestamp){var animations=state.animations,last=state.last,isAnimationCancelled=state.isAnimationCancelled;if(isAnimationCancelled){state.isAnimationRunning=false;return;}var updates={};var allFinished=true;for(var propName in animations){var finished=runAnimations(animations[propName],timestamp,propName,updates,animationsActive);if(finished){last[propName]=updates[propName];delete animations[propName];}else{allFinished=false;}}if(updates){(0,_UpdateProps.default)(viewDescriptors,updates,maybeViewRef);}if(!allFinished){(0,_core.requestFrame)(frame);}else{state.isAnimationRunning=false;}};state.animations=animations;if(!state.isAnimationRunning){state.isAnimationCancelled=false;state.isAnimationRunning=true;if(_frameTimestamp){frame(_frameTimestamp);}else{(0,_core.requestFrame)(frame);}}state.last=(0,_extends2.default)({},oldValues,newValues);var style=(0,_utils.getStyleWithoutAnimations)(state.last);if(style){(0,_UpdateProps.default)(viewDescriptors,style,maybeViewRef);}}else{state.isAnimationCancelled=true;state.animations=[];(0,_UpdateProps.default)(viewDescriptors,newValues,maybeViewRef);}}function jestStyleUpdater(viewDescriptors,updater,state,maybeViewRef,animationsActive,animatedStyle){'worklet';var adapters=arguments.length>6&&arguments[6]!==undefined?arguments[6]:[];var _a,_b;var animations=(_a=state.animations)!==null&&_a!==void 0?_a:{};var newValues=(_b=updater())!==null&&_b!==void 0?_b:{};var oldValues=state.last;var hasAnimations=false;Object.keys(animations).forEach(function(key){var value=newValues[key];if(!(0,_utils.isAnimated)(value)){delete animations[key];}});Object.keys(newValues).forEach(function(key){var value=newValues[key];if((0,_utils.isAnimated)(value)){prepareAnimation(value,animations[key],oldValues[key]);animations[key]=value;hasAnimations=true;}});function frame(timestamp){var animations=state.animations,last=state.last,isAnimationCancelled=state.isAnimationCancelled;if(isAnimationCancelled){state.isAnimationRunning=false;return;}var updates={};var allFinished=true;Object.keys(animations).forEach(function(propName){var finished=runAnimations(animations[propName],timestamp,propName,updates,animationsActive);if(finished){last[propName]=updates[propName];delete animations[propName];}else{allFinished=false;}});if(Object.keys(updates).length){(0,_UpdateProps.updatePropsJestWrapper)(viewDescriptors,updates,maybeViewRef,animatedStyle,adapters);}if(!allFinished){(0,_core.requestFrame)(frame);}else{state.isAnimationRunning=false;}}if(hasAnimations){state.animations=animations;if(!state.isAnimationRunning){state.isAnimationCancelled=false;state.isAnimationRunning=true;if(_frameTimestamp){frame(_frameTimestamp);}else{(0,_core.requestFrame)(frame);}}}else{state.isAnimationCancelled=true;state.animations=[];}var diff=(0,_utils.styleDiff)(oldValues,newValues);state.last=(0,_extends2.default)({},oldValues,newValues);if(Object.keys(diff).length!==0){(0,_UpdateProps.updatePropsJestWrapper)(viewDescriptors,diff,maybeViewRef,animatedStyle,adapters);}}function checkSharedValueUsage(prop,currentKey){if(Array.isArray(prop)){for(var _iterator=_createForOfIteratorHelperLoose(prop),_step;!(_step=_iterator()).done;){var element=_step.value;checkSharedValueUsage(element,currentKey);}}else if(typeof prop==='object'&&prop.value===undefined){for(var _i=0,_Object$keys=Object.keys(prop);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];checkSharedValueUsage(prop[key],key);}}else if(currentKey!==undefined&&typeof prop==='object'&&prop.value!==undefined){throw new Error(\"invalid value passed to `\"+currentKey+\"`, maybe you forgot to use `.value`?\");}}function useAnimatedStyle(updater,dependencies,adapters){var _a,_b;var viewsRef=(0,_ViewDescriptorsSet.makeViewsRefSet)();var viewDescriptors=(0,_ViewDescriptorsSet.makeViewDescriptorsSet)();var initRef=(0,_react.useRef)();var inputs=Object.values((_a=updater._closure)!==null&&_a!==void 0?_a:{});var adaptersArray=adapters?Array.isArray(adapters)?adapters:[adapters]:[];var adaptersHash=adapters?(0,_utils.buildWorkletsHash)(adaptersArray):null;var animationsActive=(0,_useSharedValue.useSharedValue)(true);var animatedStyle=(0,_react.useRef)({});if(!dependencies){dependencies=[].concat(inputs,[updater.__workletHash]);}else{dependencies.push(updater.__workletHash);}adaptersHash&&dependencies.push(adaptersHash);if(!initRef.current){var initialStyle=(0,_animation.initialUpdaterRun)(updater);(0,_utils.validateAnimatedStyles)(initialStyle);initRef.current={initial:{value:initialStyle,updater:updater},remoteState:(0,_core.makeRemote)({last:initialStyle}),sharableViewDescriptors:(0,_core.makeMutable)([])};viewDescriptors.rebuildsharableViewDescriptors(initRef.current.sharableViewDescriptors);}dependencies.push((_b=initRef.current)===null||_b===void 0?void 0:_b.sharableViewDescriptors.value);var _initRef$current=initRef.current,initial=_initRef$current.initial,remoteState=_initRef$current.remoteState,sharableViewDescriptors=_initRef$current.sharableViewDescriptors;var maybeViewRef=_NativeReanimated.default.native?undefined:viewsRef;(0,_react.useEffect)(function(){var fun;var _upadterFn2=updater;var optimalization=updater.__optimalization;if(adapters){_upadterFn2=function upadterFn(){'worklet';var newValues=updater();adaptersArray.forEach(function(adapter){adapter(newValues);});return newValues;};}if((0,_utils.canApplyOptimalisation)(_upadterFn2)&&!(0,_PlatformChecker.shouldBeUseWeb)()){if((0,_utils.hasColorProps)(_upadterFn2())){_upadterFn2=function upadterFn(){'worklet';var style=_upadterFn2();(0,_utils.parseColors)(style);return style;};}}else if(!(0,_PlatformChecker.shouldBeUseWeb)()){optimalization=0;_upadterFn2=function _upadterFn(){'worklet';var style=_upadterFn2();(0,_utils.parseColors)(style);return style;};}if(typeof updater.__optimalization!==undefined){_upadterFn2.__optimalization=optimalization;}if((0,_PlatformChecker.isJest)()){fun=function fun(){'worklet';jestStyleUpdater(sharableViewDescriptors,updater,remoteState,maybeViewRef,animationsActive,animatedStyle,adaptersArray);};}else{fun=function fun(){'worklet';styleUpdater(sharableViewDescriptors,_upadterFn2,remoteState,maybeViewRef,animationsActive);};}var mapperId=(0,_core.startMapper)(fun,inputs,[],_upadterFn2,sharableViewDescriptors);return function(){(0,_core.stopMapper)(mapperId);};},dependencies);(0,_react.useEffect)(function(){animationsActive.value=true;return function(){animationsActive.value=false;};},[]);checkSharedValueUsage(initial.value);if(process.env.JEST_WORKER_ID){return{viewDescriptors:viewDescriptors,initial:initial,viewsRef:viewsRef,animatedStyle:animatedStyle};}else{return{viewDescriptors:viewDescriptors,initial:initial,viewsRef:viewsRef};}}","map":{"version":3,"names":["prepareAnimation","animatedProp","lastAnimation","lastValue","Array","isArray","forEach","prop","index","onFrame","animation","value","current","undefined","callStart","timestamp","onStart","getTimestamp","Object","keys","key","runAnimations","result","animationsActive","allFinished","entry","finished","callback","k","styleUpdater","viewDescriptors","updater","state","maybeViewRef","_a","_b","animations","newValues","oldValues","last","hasAnimations","isAnimated","frame","isAnimationCancelled","isAnimationRunning","updates","propName","updateProps","requestFrame","_frameTimestamp","style","getStyleWithoutAnimations","jestStyleUpdater","animatedStyle","adapters","length","updatePropsJestWrapper","diff","styleDiff","checkSharedValueUsage","currentKey","element","Error","useAnimatedStyle","dependencies","viewsRef","makeViewsRefSet","makeViewDescriptorsSet","initRef","useRef","inputs","values","_closure","adaptersArray","adaptersHash","buildWorkletsHash","useSharedValue","__workletHash","push","initialStyle","initialUpdaterRun","validateAnimatedStyles","initial","remoteState","makeRemote","sharableViewDescriptors","makeMutable","rebuildsharableViewDescriptors","NativeReanimatedModule","native","useEffect","fun","upadterFn","optimalization","__optimalization","adapter","canApplyOptimalisation","shouldBeUseWeb","hasColorProps","parseColors","isJest","mapperId","startMapper","stopMapper","process","env","JEST_WORKER_ID"],"sources":["D:/React_Native/SourceCode_VPM_Swine/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js"],"sourcesContent":["/* global _frameTimestamp */\nimport { useEffect, useRef } from 'react';\nimport { startMapper, stopMapper, makeRemote, requestFrame, getTimestamp, makeMutable, } from '../core';\nimport updateProps, { updatePropsJestWrapper } from '../UpdateProps';\nimport { initialUpdaterRun } from '../animation';\nimport NativeReanimatedModule from '../NativeReanimated';\nimport { useSharedValue } from './useSharedValue';\nimport { buildWorkletsHash, canApplyOptimalisation, getStyleWithoutAnimations, hasColorProps, isAnimated, parseColors, styleDiff, validateAnimatedStyles, } from './utils';\nimport { makeViewDescriptorsSet, makeViewsRefSet, } from '../ViewDescriptorsSet';\nimport { isJest, shouldBeUseWeb } from '../PlatformChecker';\nfunction prepareAnimation(animatedProp, lastAnimation, lastValue) {\n    'worklet';\n    if (Array.isArray(animatedProp)) {\n        animatedProp.forEach((prop, index) => prepareAnimation(prop, lastAnimation && lastAnimation[index], lastValue && lastValue[index]));\n        // return animatedProp;\n    }\n    if (typeof animatedProp === 'object' && animatedProp.onFrame) {\n        const animation = animatedProp;\n        let value = animation.current;\n        if (lastValue !== undefined) {\n            if (typeof lastValue === 'object') {\n                if (lastValue.value !== undefined) {\n                    // previously it was a shared value\n                    value = lastValue.value;\n                }\n                else if (lastValue.onFrame !== undefined) {\n                    if ((lastAnimation === null || lastAnimation === void 0 ? void 0 : lastAnimation.current) !== undefined) {\n                        // it was an animation before, copy its state\n                        value = lastAnimation.current;\n                    }\n                    else if ((lastValue === null || lastValue === void 0 ? void 0 : lastValue.current) !== undefined) {\n                        // it was initialized\n                        value = lastValue.current;\n                    }\n                }\n            }\n            else {\n                // previously it was a plain value, just set it as starting point\n                value = lastValue;\n            }\n        }\n        animation.callStart = (timestamp) => {\n            animation.onStart(animation, value, timestamp, lastAnimation);\n        };\n        animation.callStart(getTimestamp());\n        animation.callStart = null;\n    }\n    else if (typeof animatedProp === 'object') {\n        // it is an object\n        Object.keys(animatedProp).forEach((key) => prepareAnimation(animatedProp[key], lastAnimation && lastAnimation[key], lastValue && lastValue[key]));\n    }\n}\nfunction runAnimations(animation, timestamp, key, result, animationsActive) {\n    'worklet';\n    if (!animationsActive.value) {\n        return true;\n    }\n    if (Array.isArray(animation)) {\n        result[key] = [];\n        let allFinished = true;\n        animation.forEach((entry, index) => {\n            if (!runAnimations(entry, timestamp, index, result[key], animationsActive)) {\n                allFinished = false;\n            }\n        });\n        return allFinished;\n    }\n    else if (typeof animation === 'object' && animation.onFrame) {\n        let finished = true;\n        if (!animation.finished) {\n            if (animation.callStart) {\n                animation.callStart(timestamp);\n                animation.callStart = null;\n            }\n            finished = animation.onFrame(animation, timestamp);\n            animation.timestamp = timestamp;\n            if (finished) {\n                animation.finished = true;\n                animation.callback && animation.callback(true /* finished */);\n            }\n        }\n        result[key] = animation.current;\n        return finished;\n    }\n    else if (typeof animation === 'object') {\n        result[key] = {};\n        let allFinished = true;\n        Object.keys(animation).forEach((k) => {\n            if (!runAnimations(animation[k], timestamp, k, result[key], animationsActive)) {\n                allFinished = false;\n            }\n        });\n        return allFinished;\n    }\n    else {\n        result[key] = animation;\n        return true;\n    }\n}\nfunction styleUpdater(viewDescriptors, updater, state, maybeViewRef, animationsActive) {\n    'worklet';\n    var _a, _b;\n    const animations = (_a = state.animations) !== null && _a !== void 0 ? _a : {};\n    const newValues = (_b = updater()) !== null && _b !== void 0 ? _b : {};\n    const oldValues = state.last;\n    let hasAnimations = false;\n    for (const key in newValues) {\n        const value = newValues[key];\n        if (isAnimated(value)) {\n            prepareAnimation(value, animations[key], oldValues[key]);\n            animations[key] = value;\n            hasAnimations = true;\n        }\n        else {\n            delete animations[key];\n        }\n    }\n    if (hasAnimations) {\n        const frame = (timestamp) => {\n            const { animations, last, isAnimationCancelled } = state;\n            if (isAnimationCancelled) {\n                state.isAnimationRunning = false;\n                return;\n            }\n            const updates = {};\n            let allFinished = true;\n            for (const propName in animations) {\n                const finished = runAnimations(animations[propName], timestamp, propName, updates, animationsActive);\n                if (finished) {\n                    last[propName] = updates[propName];\n                    delete animations[propName];\n                }\n                else {\n                    allFinished = false;\n                }\n            }\n            if (updates) {\n                updateProps(viewDescriptors, updates, maybeViewRef);\n            }\n            if (!allFinished) {\n                requestFrame(frame);\n            }\n            else {\n                state.isAnimationRunning = false;\n            }\n        };\n        state.animations = animations;\n        if (!state.isAnimationRunning) {\n            state.isAnimationCancelled = false;\n            state.isAnimationRunning = true;\n            if (_frameTimestamp) {\n                frame(_frameTimestamp);\n            }\n            else {\n                requestFrame(frame);\n            }\n        }\n        state.last = Object.assign({}, oldValues, newValues);\n        const style = getStyleWithoutAnimations(state.last);\n        if (style) {\n            updateProps(viewDescriptors, style, maybeViewRef);\n        }\n    }\n    else {\n        state.isAnimationCancelled = true;\n        state.animations = [];\n        updateProps(viewDescriptors, newValues, maybeViewRef);\n    }\n}\nfunction jestStyleUpdater(viewDescriptors, updater, state, maybeViewRef, animationsActive, animatedStyle, adapters = []) {\n    'worklet';\n    var _a, _b;\n    const animations = (_a = state.animations) !== null && _a !== void 0 ? _a : {};\n    const newValues = (_b = updater()) !== null && _b !== void 0 ? _b : {};\n    const oldValues = state.last;\n    // extract animated props\n    let hasAnimations = false;\n    Object.keys(animations).forEach((key) => {\n        const value = newValues[key];\n        if (!isAnimated(value)) {\n            delete animations[key];\n        }\n    });\n    Object.keys(newValues).forEach((key) => {\n        const value = newValues[key];\n        if (isAnimated(value)) {\n            prepareAnimation(value, animations[key], oldValues[key]);\n            animations[key] = value;\n            hasAnimations = true;\n        }\n    });\n    function frame(timestamp) {\n        const { animations, last, isAnimationCancelled } = state;\n        if (isAnimationCancelled) {\n            state.isAnimationRunning = false;\n            return;\n        }\n        const updates = {};\n        let allFinished = true;\n        Object.keys(animations).forEach((propName) => {\n            const finished = runAnimations(animations[propName], timestamp, propName, updates, animationsActive);\n            if (finished) {\n                last[propName] = updates[propName];\n                delete animations[propName];\n            }\n            else {\n                allFinished = false;\n            }\n        });\n        if (Object.keys(updates).length) {\n            updatePropsJestWrapper(viewDescriptors, updates, maybeViewRef, animatedStyle, adapters);\n        }\n        if (!allFinished) {\n            requestFrame(frame);\n        }\n        else {\n            state.isAnimationRunning = false;\n        }\n    }\n    if (hasAnimations) {\n        state.animations = animations;\n        if (!state.isAnimationRunning) {\n            state.isAnimationCancelled = false;\n            state.isAnimationRunning = true;\n            if (_frameTimestamp) {\n                frame(_frameTimestamp);\n            }\n            else {\n                requestFrame(frame);\n            }\n        }\n    }\n    else {\n        state.isAnimationCancelled = true;\n        state.animations = [];\n    }\n    // calculate diff\n    const diff = styleDiff(oldValues, newValues);\n    state.last = Object.assign({}, oldValues, newValues);\n    if (Object.keys(diff).length !== 0) {\n        updatePropsJestWrapper(viewDescriptors, diff, maybeViewRef, animatedStyle, adapters);\n    }\n}\n// check for invalid usage of shared values in returned object\nfunction checkSharedValueUsage(prop, currentKey) {\n    if (Array.isArray(prop)) {\n        // if it's an array (i.ex. transform) validate all its elements\n        for (const element of prop) {\n            checkSharedValueUsage(element, currentKey);\n        }\n    }\n    else if (typeof prop === 'object' && prop.value === undefined) {\n        // if it's a nested object, run validation for all its props\n        for (const key of Object.keys(prop)) {\n            checkSharedValueUsage(prop[key], key);\n        }\n    }\n    else if (currentKey !== undefined &&\n        typeof prop === 'object' &&\n        prop.value !== undefined) {\n        // if shared value is passed insted of its value, throw an error\n        throw new Error(`invalid value passed to \\`${currentKey}\\`, maybe you forgot to use \\`.value\\`?`);\n    }\n}\nexport function useAnimatedStyle(updater, dependencies, adapters) {\n    var _a, _b;\n    const viewsRef = makeViewsRefSet();\n    const viewDescriptors = makeViewDescriptorsSet();\n    const initRef = useRef();\n    const inputs = Object.values((_a = updater._closure) !== null && _a !== void 0 ? _a : {});\n    const adaptersArray = adapters\n        ? Array.isArray(adapters)\n            ? adapters\n            : [adapters]\n        : [];\n    const adaptersHash = adapters ? buildWorkletsHash(adaptersArray) : null;\n    const animationsActive = useSharedValue(true);\n    const animatedStyle = useRef({});\n    // build dependencies\n    if (!dependencies) {\n        dependencies = [...inputs, updater.__workletHash];\n    }\n    else {\n        dependencies.push(updater.__workletHash);\n    }\n    adaptersHash && dependencies.push(adaptersHash);\n    if (!initRef.current) {\n        const initialStyle = initialUpdaterRun(updater);\n        validateAnimatedStyles(initialStyle);\n        initRef.current = {\n            initial: {\n                value: initialStyle,\n                updater: updater,\n            },\n            remoteState: makeRemote({ last: initialStyle }),\n            sharableViewDescriptors: makeMutable([]),\n        };\n        viewDescriptors.rebuildsharableViewDescriptors(\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        initRef.current.sharableViewDescriptors);\n    }\n    dependencies.push((_b = initRef.current) === null || _b === void 0 ? void 0 : _b.sharableViewDescriptors.value);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const { initial, remoteState, sharableViewDescriptors } = initRef.current;\n    const maybeViewRef = NativeReanimatedModule.native ? undefined : viewsRef;\n    useEffect(() => {\n        let fun;\n        let upadterFn = updater;\n        let optimalization = updater.__optimalization;\n        if (adapters) {\n            upadterFn = () => {\n                'worklet';\n                const newValues = updater();\n                adaptersArray.forEach((adapter) => {\n                    adapter(newValues);\n                });\n                return newValues;\n            };\n        }\n        if (canApplyOptimalisation(upadterFn) && !shouldBeUseWeb()) {\n            if (hasColorProps(upadterFn())) {\n                upadterFn = () => {\n                    'worklet';\n                    const style = upadterFn();\n                    parseColors(style);\n                    return style;\n                };\n            }\n        }\n        else if (!shouldBeUseWeb()) {\n            optimalization = 0;\n            upadterFn = () => {\n                'worklet';\n                const style = upadterFn();\n                parseColors(style);\n                return style;\n            };\n        }\n        if (typeof updater.__optimalization !== undefined) {\n            upadterFn.__optimalization = optimalization;\n        }\n        if (isJest()) {\n            fun = () => {\n                'worklet';\n                jestStyleUpdater(sharableViewDescriptors, updater, remoteState, maybeViewRef, animationsActive, animatedStyle, adaptersArray);\n            };\n        }\n        else {\n            fun = () => {\n                'worklet';\n                styleUpdater(sharableViewDescriptors, upadterFn, remoteState, maybeViewRef, animationsActive);\n            };\n        }\n        const mapperId = startMapper(fun, inputs, [], upadterFn, \n        // TODO fix this\n        sharableViewDescriptors);\n        return () => {\n            stopMapper(mapperId);\n        };\n    }, dependencies);\n    useEffect(() => {\n        animationsActive.value = true;\n        return () => {\n            // initRef.current = null;\n            // viewsRef = null;\n            animationsActive.value = false;\n        };\n    }, []);\n    checkSharedValueUsage(initial.value);\n    if (process.env.JEST_WORKER_ID) {\n        return { viewDescriptors, initial: initial, viewsRef, animatedStyle };\n    }\n    else {\n        return { viewDescriptors, initial: initial, viewsRef };\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}