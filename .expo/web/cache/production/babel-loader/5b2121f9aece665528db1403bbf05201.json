{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.adapt=adapt;exports.createAnimatedBlock=createAnimatedBlock;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _invariant=_interopRequireDefault(require(\"invariant\"));var _val=require(\"../val\");var _AnimatedNode2=_interopRequireDefault(require(\"./AnimatedNode\"));var _InternalAnimatedValue=_interopRequireDefault(require(\"./InternalAnimatedValue\"));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var AnimatedBlock=function(_AnimatedNode){(0,_inherits2.default)(AnimatedBlock,_AnimatedNode);var _super=_createSuper(AnimatedBlock);function AnimatedBlock(array){var _this;(0,_classCallCheck2.default)(this,AnimatedBlock);(0,_invariant.default)(array.every(function(el){return el instanceof _AnimatedNode2.default;}),\"Reanimated: Animated.block node argument should be an array with elements of type AnimatedNode. One or more of them are not AnimatedNodes\");_this=_super.call(this,{type:'block',block:array},array);_this._array=array;return _this;}(0,_createClass2.default)(AnimatedBlock,[{key:\"toString\",value:function toString(){return\"AnimatedBlock, id: \"+this.__nodeID;}},{key:\"__onEvaluate\",value:function __onEvaluate(){var result;this._array.forEach(function(node){result=(0,_val.val)(node);});return result;}}]);return AnimatedBlock;}(_AnimatedNode2.default);function createAnimatedBlock(items){return adapt(items);}function nodify(v){if(typeof v==='object'&&v!=null&&v.__isProxy){if(!v.__val){v.__val=new _InternalAnimatedValue.default(0);}return v.__val;}return v instanceof _AnimatedNode2.default?v:_InternalAnimatedValue.default.valueForConstant(v);}function adapt(v){return Array.isArray(v)?new AnimatedBlock(v.map(function(node){return adapt(node);})):nodify(v);}","map":{"version":3,"names":["AnimatedBlock","array","invariant","every","el","AnimatedNode","type","block","_array","__nodeID","result","forEach","node","val","createAnimatedBlock","items","adapt","nodify","v","__isProxy","__val","InternalAnimatedValue","valueForConstant","Array","isArray","map"],"sources":["D:/React_Native/SourceCode_VPM_Swine/node_modules/react-native-reanimated/lib/reanimated1/core/AnimatedBlock.js"],"sourcesContent":["import invariant from 'invariant';\nimport { val } from '../val';\nimport AnimatedNode from './AnimatedNode';\nimport InternalAnimatedValue from './InternalAnimatedValue';\n\nclass AnimatedBlock extends AnimatedNode {\n  _array;\n\n  constructor(array) {\n    invariant(\n      array.every((el) => el instanceof AnimatedNode),\n      `Reanimated: Animated.block node argument should be an array with elements of type AnimatedNode. One or more of them are not AnimatedNodes`\n    );\n    super({ type: 'block', block: array }, array);\n    this._array = array;\n  }\n\n  toString() {\n    return `AnimatedBlock, id: ${this.__nodeID}`;\n  }\n\n  __onEvaluate() {\n    let result;\n    this._array.forEach((node) => {\n      result = val(node);\n    });\n    return result;\n  }\n}\n\nexport function createAnimatedBlock(items) {\n  return adapt(items);\n}\n\nfunction nodify(v) {\n  if (typeof v === 'object' && v?.__isProxy) {\n    if (!v.__val) {\n      v.__val = new InternalAnimatedValue(0);\n    }\n    return v.__val;\n  }\n  // TODO: cache some typical static values (e.g. 0, 1, -1)\n  return v instanceof AnimatedNode\n    ? v\n    : InternalAnimatedValue.valueForConstant(v);\n}\n\nexport function adapt(v) {\n  return Array.isArray(v)\n    ? new AnimatedBlock(v.map((node) => adapt(node)))\n    : nodify(v);\n}\n"],"mappings":"0qBAAA,4DACA,2BACA,qEACA,sF,2tBAEMA,c,oHAGJ,uBAAYC,KAAZ,CAAmB,4DACjB,GAAAC,kBAAA,EACED,KAAK,CAACE,KAAN,CAAY,SAACC,EAAD,QAAQA,GAAE,WAAYC,uBAAtB,EAAZ,CADF,8IAIA,uBAAM,CAAEC,IAAI,CAAE,OAAR,CAAiBC,KAAK,CAAEN,KAAxB,CAAN,CAAuCA,KAAvC,EACA,MAAKO,MAAL,CAAcP,KAAd,CANiB,aAOlB,C,+DAED,mBAAW,CACT,4BAA6B,KAAKQ,QAAlC,CACD,C,4BAED,uBAAe,CACb,GAAIC,OAAJ,CACA,KAAKF,MAAL,CAAYG,OAAZ,CAAoB,SAACC,IAAD,CAAU,CAC5BF,MAAM,CAAG,GAAAG,QAAA,EAAID,IAAJ,CAAT,CACD,CAFD,EAGA,MAAOF,OAAP,CACD,C,2BAtByBL,sB,EAyBrB,QAASS,oBAAT,CAA6BC,KAA7B,CAAoC,CACzC,MAAOC,MAAK,CAACD,KAAD,CAAZ,CACD,CAED,QAASE,OAAT,CAAgBC,CAAhB,CAAmB,CACjB,GAAI,MAAOA,EAAP,GAAa,QAAb,EAAyBA,CAAzB,QAAyBA,CAAC,CAAEC,SAAhC,CAA2C,CACzC,GAAI,CAACD,CAAC,CAACE,KAAP,CAAc,CACZF,CAAC,CAACE,KAAF,CAAU,GAAIC,+BAAJ,CAA0B,CAA1B,CAAV,CACD,CACD,MAAOH,EAAC,CAACE,KAAT,CACD,CAED,MAAOF,EAAC,WAAYb,uBAAb,CACHa,CADG,CAEHG,8BAAA,CAAsBC,gBAAtB,CAAuCJ,CAAvC,CAFJ,CAGD,CAEM,QAASF,MAAT,CAAeE,CAAf,CAAkB,CACvB,MAAOK,MAAK,CAACC,OAAN,CAAcN,CAAd,EACH,GAAIlB,cAAJ,CAAkBkB,CAAC,CAACO,GAAF,CAAM,SAACb,IAAD,QAAUI,MAAK,CAACJ,IAAD,CAAf,EAAN,CAAlB,CADG,CAEHK,MAAM,CAACC,CAAD,CAFV,CAGD"},"metadata":{},"sourceType":"script"}