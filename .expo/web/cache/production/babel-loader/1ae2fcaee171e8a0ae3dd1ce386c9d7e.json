{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _regenerator=_interopRequireDefault(require(\"@babel/runtime/regenerator\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _asyncStorage=_interopRequireDefault(require(\"@react-native-async-storage/async-storage\"));var _nativeBase=require(\"native-base\");var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _User=require(\"../api/User\");var _logo=_interopRequireDefault(require(\"../assets/logo.png\"));var _reactNativeLoadingSpinnerOverlay=_interopRequireDefault(require(\"react-native-loading-spinner-overlay\"));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var _Dimensions$get=_reactNative.Dimensions.get(\"screen\"),height=_Dimensions$get.height;var Register=function(_Component){(0,_inherits2.default)(Register,_Component);var _super=_createSuper(Register);function Register(){var _this;(0,_classCallCheck2.default)(this,Register);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={Email:\"\",Password:\"\",Retype:\"\",spinner:false};_this.handleRegister=function _callee(){var _this$state,Email,Password,Retype,data;return _regenerator.default.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,Email=_this$state.Email,Password=_this$state.Password,Retype=_this$state.Retype;if(!(Email===\"\")){_context.next=4;break;}_reactNative.Alert.alert(\"Thông báo\",\"Vui lòng nhập username\");return _context.abrupt(\"return\",false);case 4:if(!(Password===\"\")){_context.next=7;break;}_reactNative.Alert.alert(\"Thông báo\",\"Vui lòng nhập password\");return _context.abrupt(\"return\",false);case 7:if(!(Password!==Retype)){_context.next=10;break;}_reactNative.Alert.alert(\"Thông báo\",\"Nhập lại mật khẩu không đúng\");return _context.abrupt(\"return\",false);case 10:data={userid:Email,pwd:Password};_this.setState({spinner:true});(0,_User.ApiRegister)(data,function(res){if(res==='success'){_reactNative.Alert.alert(\"Thông báo! \",\"Thành công!\");_this.props.navigation.navigate(\"Login\");}else{_reactNative.Alert.alert(\"Thông báo\",\"Không đăng ký được, người dùng đã tồn tại\");}_this.setState({spinner:false});});case 13:case\"end\":return _context.stop();}}},null,null,null,Promise);};_this.handleInput=function(key,value){var obj=[];obj[key]=value;_this.setState(obj);};return _this;}(0,_createClass2.default)(Register,[{key:\"render\",value:function render(){var _this2=this;return _react.default.createElement(_reactNative.View,{style:{flex:1,height:height}},_react.default.createElement(_reactNativeLoadingSpinnerOverlay.default,{visible:this.state.spinner,textContent:'Loading...'}),_react.default.createElement(_reactNative.View,{style:{flex:1,padding:45,flexDirection:\"column\",justifyContent:\"center\",backgroundColor:\"white\",alignItems:\"center\"}},_react.default.createElement(_reactNative.Image,{source:_logo.default,style:{height:150,marginBottom:20},resizeMode:\"contain\"}),_react.default.createElement(_nativeBase.Text,{style:{fontSize:24,fontWeight:\"600\",marginBottom:20,textAlign:\"center\"}},\"\\u0110\\u0103ng k\\xFD\"),_react.default.createElement(_react.Fragment,null,_react.default.createElement(_nativeBase.Item,{style:{}},_react.default.createElement(_nativeBase.Input,{autoCorrect:false,onChangeText:function onChangeText(value){return _this2.handleInput(\"Email\",value);},placeholder:\"Username\",autoCapitalize:\"none\"})),_react.default.createElement(_nativeBase.Item,{style:{}},_react.default.createElement(_nativeBase.Input,{onChangeText:function onChangeText(value){return _this2.handleInput(\"Password\",value);},placeholder:\"Password\",secureTextEntry:true})),_react.default.createElement(_nativeBase.Item,{style:{}},_react.default.createElement(_nativeBase.Input,{onChangeText:function onChangeText(value){return _this2.handleInput(\"Retype\",value);},placeholder:\"Re-type password\",secureTextEntry:true})),_react.default.createElement(_nativeBase.Button,{onPress:this.handleRegister,full:true,style:{borderRadius:30,marginTop:10}},_react.default.createElement(_nativeBase.Text,{uppercase:false},\"\\u0110\\u0103ng k\\xFD\")),_react.default.createElement(_nativeBase.Button,{onPress:function onPress(){return _this2.props.navigation.goBack();},full:true,style:{marginTop:20},transparent:true},_react.default.createElement(_nativeBase.Text,{uppercase:false},\"Quay l\\u1EA1i\"))),_react.default.createElement(_nativeBase.Text,{style:{fontSize:12,textAlign:\"center\",marginTop:10}},\"Kh\\xF4ng th\\u1EC3 \\u0111\\u0103ng k\\xFD? Vui l\\xF2ng li\\xEAn h\\u1EC7 IT Helpdesk\")));}}]);return Register;}(_react.Component);var _default=Register;exports.default=_default;","map":{"version":3,"names":["Dimensions","get","height","Register","state","Email","Password","Retype","spinner","handleRegister","Alert","alert","data","userid","pwd","setState","ApiRegister","res","props","navigation","navigate","handleInput","key","value","obj","flex","padding","flexDirection","justifyContent","backgroundColor","alignItems","logo","marginBottom","fontSize","fontWeight","textAlign","borderRadius","marginTop","goBack","Component"],"sources":["D:/React_Native/SourceCode_VPM_Swine/screen/Register.js"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Input, Item, Button, Text, Picker, Icon } from 'native-base';\nimport React, { Component, Fragment } from 'react';\nimport { View, Dimensions, Image, Alert } from 'react-native';\nimport { ApiRegister } from '../api/User';\nimport logo from '../assets/logo.png';\nimport Spinner from 'react-native-loading-spinner-overlay';\n\nconst { height } = Dimensions.get(\"screen\");\n\nclass Register extends Component {\n\n    state = {\n        Email: \"\",\n        Password: \"\",\n        Retype: \"\",\n        spinner: false\n    }\n\n    handleRegister = async () => {\n        \n        let { Email, Password, Retype } = this.state;\n        if (Email === \"\") {\n            Alert.alert(\"Thông báo\", \"Vui lòng nhập username\");\n            return false;\n        }\n        if (Password === \"\") {\n            Alert.alert(\"Thông báo\", \"Vui lòng nhập password\");\n            return false;\n        }\n        if (Password !== Retype) {\n            Alert.alert(\"Thông báo\", \"Nhập lại mật khẩu không đúng\");\n            return false;\n        }\n        let data = {\n            userid: Email,\n            pwd: Password\n        }\n        this.setState({spinner: true})\n        ApiRegister(data, res => {\n            if (res === 'success') {\n                Alert.alert(\"Thông báo! \", \"Thành công!\")\n                this.props.navigation.navigate(\"Login\")\n            } else {\n                Alert.alert(\"Thông báo\", \"Không đăng ký được, người dùng đã tồn tại\");\n            }\n            this.setState({spinner: false})\n        })\n    }\n\n    handleInput = (key, value) => {\n        let obj = [];\n        obj[key] = value;\n        this.setState(obj);\n    }\n\n\n\n    render() {\n        return (\n            <View style={{\n                flex: 1,\n                height\n            }}>\n                <Spinner\n                    visible={this.state.spinner}\n                    textContent={'Loading...'}\n                />\n                <View style={{\n                    flex: 1,\n                    padding: 45,\n                    flexDirection: \"column\",\n                    justifyContent: \"center\",\n                    backgroundColor: \"white\",\n                    alignItems: \"center\"\n                }}>\n                    <Image source={logo} style={{ height: 150, marginBottom: 20 }} resizeMode=\"contain\" />\n                    <Text style={{\n                        fontSize: 24,\n                        fontWeight: \"600\",\n                        marginBottom: 20,\n                        textAlign: \"center\"\n                    }}>Đăng ký</Text>\n\n                    <Fragment>\n                        <Item style={{}}>\n                            <Input autoCorrect={false} onChangeText={(value) => this.handleInput(\"Email\", value)} placeholder=\"Username\" autoCapitalize=\"none\" />\n                        </Item>\n                        <Item style={{}}>\n                            <Input onChangeText={(value) => this.handleInput(\"Password\", value)} placeholder=\"Password\" secureTextEntry />\n                        </Item>\n                        <Item style={{}}>\n                            <Input onChangeText={(value) => this.handleInput(\"Retype\", value)} placeholder=\"Re-type password\" secureTextEntry />\n                        </Item>\n                        <Button onPress={this.handleRegister} full style={{ borderRadius: 30, marginTop: 10 }}><Text uppercase={false}>Đăng ký</Text></Button>\n                        <Button onPress={() => this.props.navigation.goBack()} full style={{ marginTop: 20 }} transparent><Text uppercase={false}>Quay lại</Text></Button>\n                    </Fragment>\n                    {/* <Button full style={{ borderRadius: 30, marginTop: 10, backgroundColor: \"#DEEDFD\" }}><Text style={{ color: \"#2E6EF4\" }} uppercase={false}>Đăng ký</Text></Button> */}\n                    <Text style={{ fontSize: 12, textAlign: \"center\", marginTop: 10 }}>Không thể đăng ký? Vui lòng liên hệ IT Helpdesk</Text>\n\n                </View>\n            </View>\n\n        );\n    }\n}\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}