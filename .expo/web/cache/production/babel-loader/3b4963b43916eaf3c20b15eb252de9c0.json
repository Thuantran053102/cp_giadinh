{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.createAnimatedCallFunc=createAnimatedCallFunc;var _toConsumableArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _AnimatedNode2=_interopRequireWildcard(require(\"./AnimatedNode\"));var _AnimatedBlock=require(\"./AnimatedBlock\");var _val=require(\"../val\");var _invariant=_interopRequireDefault(require(\"invariant\"));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var AnimatedCallFunc=function(_AnimatedNode){(0,_inherits2.default)(AnimatedCallFunc,_AnimatedNode);var _super=_createSuper(AnimatedCallFunc);function AnimatedCallFunc(what,args,params){var _this;(0,_classCallCheck2.default)(this,AnimatedCallFunc);(0,_invariant.default)(what instanceof _AnimatedNode2.default,\"Reanimated: AnimatedCallFunc 'what' argument should be of type AnimatedNode but got \"+what);(0,_invariant.default)(args.every(function(el){return el instanceof _AnimatedNode2.default;}),\"Reanimated: every AnimatedCallFunc 'args' argument should be of type AnimatedNode but got \"+args);(0,_invariant.default)(params.every(function(el){return el instanceof _AnimatedNode2.default;}),\"Reanimated: every AnimatedCallFunc 'params' argument should be of type AnimatedNode but got \"+params);_this=_super.call(this,{type:'callfunc',what:what,args:args,params:params},(0,_toConsumableArray2.default)(args));_this._what=what;_this._args=args;_this._params=params;return _this;}(0,_createClass2.default)(AnimatedCallFunc,[{key:\"toString\",value:function toString(){return\"AnimatedCallFunc, id: \"+this.__nodeID;}},{key:\"beginContext\",value:function beginContext(){var _this2=this;this._previousCallID=(0,_AnimatedNode2.getCallID)();(0,_AnimatedNode2.setCallID)((0,_AnimatedNode2.getCallID)()+'/'+this.__nodeID);this._params.forEach(function(param,index){param.beginContext(_this2._args[index],_this2._previousCallID);});}},{key:\"endContext\",value:function endContext(){this._params.forEach(function(param){param.endContext();});(0,_AnimatedNode2.setCallID)(this._previousCallID);}},{key:\"__onEvaluate\",value:function __onEvaluate(){this.beginContext();var value=(0,_val.val)(this._what);this.endContext();return value;}}]);return AnimatedCallFunc;}(_AnimatedNode2.default);function createAnimatedCallFunc(proc,args,params){return new AnimatedCallFunc(proc,args.map(function(p){return(0,_AnimatedBlock.adapt)(p);}),params);}","map":{"version":3,"names":["AnimatedCallFunc","what","args","params","invariant","AnimatedNode","every","el","type","_what","_args","_params","__nodeID","_previousCallID","getCallID","setCallID","forEach","param","index","beginContext","endContext","value","val","createAnimatedCallFunc","proc","map","p","adapt"],"sources":["D:/React_Native/SourceCode_VPM_Swine/node_modules/react-native-reanimated/lib/reanimated1/core/AnimatedCallFunc.js"],"sourcesContent":["import AnimatedNode, { getCallID, setCallID } from './AnimatedNode';\nimport { adapt } from './AnimatedBlock';\nimport { val } from '../val';\nimport invariant from 'invariant';\n\nclass AnimatedCallFunc extends AnimatedNode {\n  _previousCallID;\n  _what;\n  _args;\n  _params;\n  constructor(what, args, params) {\n    invariant(\n      what instanceof AnimatedNode,\n      `Reanimated: AnimatedCallFunc 'what' argument should be of type AnimatedNode but got ${what}`\n    );\n    invariant(\n      args.every((el) => el instanceof AnimatedNode),\n      `Reanimated: every AnimatedCallFunc 'args' argument should be of type AnimatedNode but got ${args}`\n    );\n    invariant(\n      params.every((el) => el instanceof AnimatedNode),\n      `Reanimated: every AnimatedCallFunc 'params' argument should be of type AnimatedNode but got ${params}`\n    );\n    super(\n      {\n        type: 'callfunc',\n        what,\n        args,\n        params,\n      },\n      [...args]\n    );\n    this._what = what;\n    this._args = args;\n    this._params = params;\n  }\n\n  toString() {\n    return `AnimatedCallFunc, id: ${this.__nodeID}`;\n  }\n\n  beginContext() {\n    this._previousCallID = getCallID();\n    setCallID(getCallID() + '/' + this.__nodeID);\n\n    this._params.forEach((param, index) => {\n      param.beginContext(this._args[index], this._previousCallID);\n    });\n  }\n\n  endContext() {\n    this._params.forEach((param) => {\n      param.endContext();\n    });\n    setCallID(this._previousCallID);\n  }\n\n  __onEvaluate() {\n    this.beginContext();\n    const value = val(this._what);\n    this.endContext();\n    return value;\n  }\n}\n\nexport function createAnimatedCallFunc(proc, args, params) {\n  return new AnimatedCallFunc(\n    proc,\n    args.map((p) => adapt(p)),\n    params\n  );\n}\n"],"mappings":"gwBAAA,sEACA,8CACA,2BACA,4D,qtDAEMA,iB,0HAKJ,0BAAYC,IAAZ,CAAkBC,IAAlB,CAAwBC,MAAxB,CAAgC,+DAC9B,GAAAC,kBAAA,EACEH,IAAI,WAAYI,uBADlB,wFAEyFJ,IAFzF,EAIA,GAAAG,kBAAA,EACEF,IAAI,CAACI,KAAL,CAAW,SAACC,EAAD,QAAQA,GAAE,WAAYF,uBAAtB,EAAX,CADF,8FAE+FH,IAF/F,EAIA,GAAAE,kBAAA,EACED,MAAM,CAACG,KAAP,CAAa,SAACC,EAAD,QAAQA,GAAE,WAAYF,uBAAtB,EAAb,CADF,gGAEiGF,MAFjG,EAIA,uBACE,CACEK,IAAI,CAAE,UADR,CAEEP,IAAI,CAAJA,IAFF,CAGEC,IAAI,CAAJA,IAHF,CAIEC,MAAM,CAANA,MAJF,CADF,iCAOMD,IAPN,GASA,MAAKO,KAAL,CAAaR,IAAb,CACA,MAAKS,KAAL,CAAaR,IAAb,CACA,MAAKS,OAAL,CAAeR,MAAf,CAxB8B,aAyB/B,C,kEAED,mBAAW,CACT,+BAAgC,KAAKS,QAArC,CACD,C,4BAED,uBAAe,iBACb,KAAKC,eAAL,CAAuB,GAAAC,wBAAA,GAAvB,CACA,GAAAC,wBAAA,EAAU,GAAAD,wBAAA,IAAc,GAAd,CAAoB,KAAKF,QAAnC,EAEA,KAAKD,OAAL,CAAaK,OAAb,CAAqB,SAACC,KAAD,CAAQC,KAAR,CAAkB,CACrCD,KAAK,CAACE,YAAN,CAAmB,MAAI,CAACT,KAAL,CAAWQ,KAAX,CAAnB,CAAsC,MAAI,CAACL,eAA3C,EACD,CAFD,EAGD,C,0BAED,qBAAa,CACX,KAAKF,OAAL,CAAaK,OAAb,CAAqB,SAACC,KAAD,CAAW,CAC9BA,KAAK,CAACG,UAAN,GACD,CAFD,EAGA,GAAAL,wBAAA,EAAU,KAAKF,eAAf,EACD,C,4BAED,uBAAe,CACb,KAAKM,YAAL,GACA,GAAME,MAAK,CAAG,GAAAC,QAAA,EAAI,KAAKb,KAAT,CAAd,CACA,KAAKW,UAAL,GACA,MAAOC,MAAP,CACD,C,8BAzD4BhB,sB,EA4DxB,QAASkB,uBAAT,CAAgCC,IAAhC,CAAsCtB,IAAtC,CAA4CC,MAA5C,CAAoD,CACzD,MAAO,IAAIH,iBAAJ,CACLwB,IADK,CAELtB,IAAI,CAACuB,GAAL,CAAS,SAACC,CAAD,QAAO,GAAAC,oBAAA,EAAMD,CAAN,CAAP,EAAT,CAFK,CAGLvB,MAHK,CAAP,CAKD"},"metadata":{},"sourceType":"script"}