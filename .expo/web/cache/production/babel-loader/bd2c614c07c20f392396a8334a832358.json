{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _regenerator=_interopRequireDefault(require(\"@babel/runtime/regenerator\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _asyncStorage=_interopRequireDefault(require(\"@react-native-async-storage/async-storage\"));var _native=require(\"@react-navigation/native\");var _nativeBase=require(\"native-base\");var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _func=require(\"../func\");function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Mydrawer=function(_Component){(0,_inherits2.default)(Mydrawer,_Component);var _super=_createSuper(Mydrawer);function Mydrawer(){var _this;(0,_classCallCheck2.default)(this,Mydrawer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:null};_this.handleLogout=function _callee(){return _regenerator.default.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regenerator.default.awrap(_asyncStorage.default.removeItem(\"user\"));case 2:_this.props.navigation.dispatch(_native.CommonActions.reset({index:1,routes:[{name:'Login'}]}));_this.props.navigation.toggleDrawer();case 4:case\"end\":return _context.stop();}}},null,null,null,Promise);};return _this;}(0,_createClass2.default)(Mydrawer,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(){var user;return _regenerator.default.async(function componentWillReceiveProps$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regenerator.default.awrap((0,_func.GetUserLocal)());case 2:user=_context2.sent;this.setState({user:user});case 4:case\"end\":return _context2.stop();}}},null,this,null,Promise);}},{key:\"render\",value:function render(){var user=this.state.user;console.log(\"user Mydrawer: \",user);var viewInfo=null;if(user!==null){viewInfo=_react.default.createElement(_reactNative.View,{style:{backgroundColor:\"#024BC5\",height:200,flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\"}},_react.default.createElement(_nativeBase.Icon,{style:{color:\"#fff\",fontSize:150},name:\"user\",type:\"EvilIcons\"}),_react.default.createElement(_nativeBase.Text,{style:{color:\"#fff\"}},user.name_vn));}else{viewInfo=_react.default.createElement(_reactNative.View,{style:{backgroundColor:\"#024BC5\",height:200,flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\"}},_react.default.createElement(_nativeBase.Icon,{style:{color:\"#fff\",fontSize:150},name:\"user\",type:\"EvilIcons\"}),_react.default.createElement(_nativeBase.Text,{style:{color:\"#fff\"}},\"Kh\\xE1ch\"));}return _react.default.createElement(_nativeBase.Container,null,viewInfo,_react.default.createElement(_reactNative.View,{style:{padding:15,marginTop:15}},_react.default.createElement(_nativeBase.Text,{style:{fontWeight:\"bold\",marginBottom:5}},\"Li\\xEAn h\\u1EC7 ph\\xF2ng IT\"),_react.default.createElement(_nativeBase.Text,null,\"Email: it_feedback@cp.com.vn\")),_react.default.createElement(_reactNative.View,{style:{padding:15}},user!==null&&_react.default.createElement(_nativeBase.Button,{onPress:this.handleLogout,full:true,rounded:true},_react.default.createElement(_nativeBase.Text,{uppercase:false},\"\\u0110\\u0103ng xu\\u1EA5t\"))));}}]);return Mydrawer;}(_react.Component);var _default=Mydrawer;exports.default=_default;","map":{"version":3,"names":["Mydrawer","state","user","handleLogout","AsyncStorage","removeItem","props","navigation","dispatch","CommonActions","reset","index","routes","name","toggleDrawer","GetUserLocal","setState","console","log","viewInfo","backgroundColor","height","flexDirection","alignItems","justifyContent","color","fontSize","name_vn","padding","marginTop","fontWeight","marginBottom","Component"],"sources":["D:/React_Native/SourceCode_VPM_Swine/components/Mydrawer.js"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\nimport { CommonActions } from '@react-navigation/native';\nimport { Button, Container, Text, Icon } from 'native-base';\nimport React, { Component } from 'react';\nimport { View } from 'react-native';\nimport { GetUserLocal } from '../func';\n\nclass Mydrawer extends Component {\n    state = {\n        user: null\n    }\n\n\n    handleLogout = async () => {\n        await AsyncStorage.removeItem(\"user\");\n        this.props.navigation.dispatch(\n            CommonActions.reset({\n                index: 1,\n                routes: [\n                    { name: 'Login' }\n                ],\n            })\n        );\n        this.props.navigation.toggleDrawer();\n    }\n\n    async componentWillReceiveProps() {\n        let user = await GetUserLocal();\n        this.setState({ user })\n    }\n\n    render() {\n        let { user } = this.state;\n        console.log(\"user Mydrawer: \", user)\n        let viewInfo = null;\n        if (user !== null) {\n            viewInfo = <View style={{\n                backgroundColor: \"#024BC5\",\n                height: 200,\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                justifyContent: \"center\"\n            }}>\n                <Icon style={{ color: \"#fff\", fontSize: 150 }} name=\"user\" type=\"EvilIcons\" />\n                <Text style={{ color: \"#fff\" }}>{user.name_vn}</Text>\n            </View>\n        }else{\n            viewInfo = <View style={{\n                backgroundColor: \"#024BC5\",\n                height: 200,\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                justifyContent: \"center\"\n            }}>\n                <Icon style={{ color: \"#fff\", fontSize: 150 }} name=\"user\" type=\"EvilIcons\" />\n                <Text style={{ color: \"#fff\" }}>Khách</Text>\n            </View>\n        }\n        return (\n            <Container>\n                {viewInfo}\n                <View style={{ padding: 15, marginTop:15 }}>\n                    <Text style={{fontWeight:\"bold\", marginBottom:5}}>Liên hệ phòng IT</Text>\n                    <Text>Email: it_feedback@cp.com.vn</Text>\n                </View>\n                <View style={{ padding: 15 }}>\n                    {user!==null&&<Button onPress={this.handleLogout} full rounded><Text uppercase={false}>Đăng xuất</Text></Button>}\n                </View>\n            </Container>\n        );\n    }\n}\n\nexport default Mydrawer;\n"],"mappings":"4sBAAA,+FACA,gDACA,uCACA,qDACA,yCACA,6B,qtDAEMA,S,gVACFC,K,CAAQ,CACJC,IAAI,CAAE,IADF,C,OAKRC,Y,CAAe,uLACLC,qBAAA,CAAaC,UAAb,CAAwB,MAAxB,CADK,SAEX,MAAKC,KAAL,CAAWC,UAAX,CAAsBC,QAAtB,CACIC,qBAAA,CAAcC,KAAd,CAAoB,CAChBC,KAAK,CAAE,CADS,CAEhBC,MAAM,CAAE,CACJ,CAAEC,IAAI,CAAE,OAAR,CADI,CAFQ,CAApB,CADJ,EAQA,MAAKP,KAAL,CAAWC,UAAX,CAAsBO,YAAtB,GAVW,qE,0FAaf,wOACqB,GAAAC,kBAAA,GADrB,SACQb,IADR,gBAEI,KAAKc,QAAL,CAAc,CAAEd,IAAI,CAAJA,IAAF,CAAd,EAFJ,sE,sBAKA,iBAAS,CACL,GAAMA,KAAN,CAAe,KAAKD,KAApB,CAAMC,IAAN,CACAe,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BhB,IAA/B,EACA,GAAIiB,SAAQ,CAAG,IAAf,CACA,GAAIjB,IAAI,GAAK,IAAb,CAAmB,CACfiB,QAAQ,CAAG,6BAAC,iBAAD,EAAM,KAAK,CAAE,CACpBC,eAAe,CAAE,SADG,CAEpBC,MAAM,CAAE,GAFY,CAGpBC,aAAa,CAAE,QAHK,CAIpBC,UAAU,CAAE,QAJQ,CAKpBC,cAAc,CAAE,QALI,CAAb,EAOP,6BAAC,gBAAD,EAAM,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAAiBC,QAAQ,CAAE,GAA3B,CAAb,CAA+C,IAAI,CAAC,MAApD,CAA2D,IAAI,CAAC,WAAhE,EAPO,CAQP,6BAAC,gBAAD,EAAM,KAAK,CAAE,CAAED,KAAK,CAAE,MAAT,CAAb,EAAiCvB,IAAI,CAACyB,OAAtC,CARO,CAAX,CAUH,CAXD,IAWK,CACDR,QAAQ,CAAG,6BAAC,iBAAD,EAAM,KAAK,CAAE,CACpBC,eAAe,CAAE,SADG,CAEpBC,MAAM,CAAE,GAFY,CAGpBC,aAAa,CAAE,QAHK,CAIpBC,UAAU,CAAE,QAJQ,CAKpBC,cAAc,CAAE,QALI,CAAb,EAOP,6BAAC,gBAAD,EAAM,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAAiBC,QAAQ,CAAE,GAA3B,CAAb,CAA+C,IAAI,CAAC,MAApD,CAA2D,IAAI,CAAC,WAAhE,EAPO,CAQP,6BAAC,gBAAD,EAAM,KAAK,CAAE,CAAED,KAAK,CAAE,MAAT,CAAb,aARO,CAAX,CAUH,CACD,MACI,8BAAC,qBAAD,MACKN,QADL,CAEI,6BAAC,iBAAD,EAAM,KAAK,CAAE,CAAES,OAAO,CAAE,EAAX,CAAeC,SAAS,CAAC,EAAzB,CAAb,EACI,6BAAC,gBAAD,EAAM,KAAK,CAAE,CAACC,UAAU,CAAC,MAAZ,CAAoBC,YAAY,CAAC,CAAjC,CAAb,gCADJ,CAEI,6BAAC,gBAAD,qCAFJ,CAFJ,CAMI,6BAAC,iBAAD,EAAM,KAAK,CAAE,CAAEH,OAAO,CAAE,EAAX,CAAb,EACK1B,IAAI,GAAG,IAAP,EAAa,6BAAC,kBAAD,EAAQ,OAAO,CAAE,KAAKC,YAAtB,CAAoC,IAAI,KAAxC,CAAyC,OAAO,KAAhD,EAAiD,6BAAC,gBAAD,EAAM,SAAS,CAAE,KAAjB,6BAAjD,CADlB,CANJ,CADJ,CAYH,C,sBA/DkB6B,gB,eAkERhC,Q"},"metadata":{},"sourceType":"script"}