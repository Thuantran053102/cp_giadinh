{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _utils=require(\"./utils\");var _styles=_interopRequireDefault(require(\"./styles\"));var _controls=require(\"./controls\");function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var IMAGE_SPEED_FOR_CLOSE=1.1;var SCALE_MAXIMUM=5;var HEADER_HEIGHT=60;var SCALE_MAX_MULTIPLIER=3;var FREEZE_SCROLL_DISTANCE=15;var BACKGROUND_OPACITY_MULTIPLIER=0.003;var defaultBackgroundColor=[0,0,0];var getScreenDimensions=function getScreenDimensions(){return{screenWidth:_reactNative.Dimensions.get('window').width,screenHeight:_reactNative.Dimensions.get('window').height};};var styles=(0,_styles.default)(getScreenDimensions());var ImageView=function(_Component){(0,_inherits2.default)(ImageView,_Component);var _super=_createSuper(ImageView);function ImageView(props){var _this;(0,_classCallCheck2.default)(this,ImageView);_this=_super.call(this,props);_this.onChangeDimension=function(_ref){var window=_ref.window;var screenDimensions={screenWidth:window.width,screenHeight:window.height};_this.setState({screenDimensions:screenDimensions});styles=(0,_styles.default)(screenDimensions);_this.onNextImagesReceived(_this.props.images,_this.state.imageIndex);};_this.onFlatListRender=function(flatListRef){var _this$state=_this.state,images=_this$state.images,imageIndex=_this$state.imageIndex,isFlatListRerendered=_this$state.isFlatListRerendered;if(flatListRef&&!isFlatListRerendered){_this.listRef=flatListRef;_this.setState({isFlatListRerendered:true});if(images.length>0){var nextTick=new Promise(function(resolve){return setTimeout(resolve,0);});nextTick.then(function(){flatListRef.scrollToIndex({index:imageIndex,animated:false});});}}};_this.onNextImage=function(event){var imageIndex=_this.state.imageIndex;var _ref2=event.nativeEvent.contentOffset||{x:0},x=_ref2.x;var nextImageIndex=Math.round(x/_this.state.screenDimensions.screenWidth);_this.isScrolling=Math.ceil(x)%_this.state.screenDimensions.screenWidth>10;if(imageIndex!==nextImageIndex&&nextImageIndex>=0){var nextImageScale=_this.getInitialScale(nextImageIndex);var nextImageTranslate=_this.getInitialTranslate(nextImageIndex);_this.setState({imageIndex:nextImageIndex,imageScale:nextImageScale,imageTranslate:nextImageTranslate});_this.imageScaleValue.setValue(nextImageScale);_this.imageTranslateValue.setValue(nextImageTranslate);if(typeof _this.props.onImageChange==='function'){_this.props.onImageChange(nextImageIndex);}}};_this.onMomentumScrollBegin=function(){_this.isScrolling=true;if(_this.glideAlwaysTimer){clearTimeout(_this.glideAlwaysTimer);}};_this.onMomentumScrollEnd=function(){_this.isScrolling=false;};_this.getItemLayout=function(_,index){var screenWidth=_this.state.screenDimensions.screenWidth;return{length:screenWidth,offset:screenWidth*index,index:index};};_this.getControls=function(){var _this$props$controls=_this.props.controls,close=_this$props$controls.close,prev=_this$props$controls.prev,next=_this$props$controls.next;var controls={close:_controls.Close,prev:undefined,next:undefined};if(close===null){controls.close=null;}if(close){controls.close=close===true?_controls.Close:close;}if(prev){controls.prev=prev===true?_controls.Prev:prev;}if(next){controls.next=next===true?_controls.Next:next;}return controls;};_this.setSizeForImages=function(nextImages){if(nextImages.length===0){return[];}var images=_this.state.images;return images.map(function(image,index){var nextImageSize=nextImages.find(function(nextImage){return nextImage.index===index;});if(nextImageSize){image.width=nextImageSize.width;image.height=nextImageSize.height;}return image;});};_this.scrollToNext=function(){if(_this.listRef&&typeof _this.listRef.scrollToIndex==='function'){_this.listRef.scrollToIndex({index:_this.state.imageIndex+1,animated:true});}};_this.scrollToPrev=function(){if(_this.listRef&&typeof _this.listRef.scrollToIndex==='function'){_this.listRef.scrollToIndex({index:_this.state.imageIndex-1,animated:true});}};_this.listKeyExtractor=function(image){return _this.state.images.indexOf(image).toString();};_this.close=function(){_this.setState({isVisible:false});if(typeof _this.props.onClose==='function'){_this.props.onClose();}};_this.renderImage=function(_ref3){var image=_ref3.item,index=_ref3.index;var loaded=image.loaded&&image.width&&image.height;return _react.default.createElement(_reactNative.View,{style:styles.imageContainer,onStartShouldSetResponder:function onStartShouldSetResponder(){return true;}},_react.default.createElement(_reactNative.Animated.Image,(0,_extends2.default)({resizeMode:\"cover\",source:image.source,style:_this.getImageStyle(image,index),onLoad:function onLoad(){return _this.onImageLoaded(index);}},_this.panResponder.panHandlers)),!loaded&&_react.default.createElement(_reactNative.ActivityIndicator,{style:styles.loading}));};var initialScreenDimensions=getScreenDimensions();_this.imageInitialParams=props.images.map(function(image){return(0,_utils.getInitialParams)(image,initialScreenDimensions);});_this.state={images:props.images,isVisible:props.isVisible,imageIndex:props.imageIndex,imageScale:1,imageTranslate:{x:0,y:0},scrollEnabled:true,panelsVisible:true,isFlatListRerendered:false,screenDimensions:initialScreenDimensions};_this.glideAlwaysTimer=null;_this.listRef=null;_this.isScrolling=false;_this.footerHeight=0;_this.initialTouches=[];_this.currentTouchesNum=0;_this.doubleTapTimer=null;_this.modalAnimation=new _reactNative.Animated.Value(0);_this.modalBackgroundOpacity=new _reactNative.Animated.Value(0);_this.headerTranslateValue=new _reactNative.Animated.ValueXY();_this.footerTranslateValue=new _reactNative.Animated.ValueXY();_this.imageScaleValue=new _reactNative.Animated.Value(_this.getInitialScale());var _this$getInitialTrans=_this.getInitialTranslate(),_x=_this$getInitialTrans.x,y=_this$getInitialTrans.y;_this.imageTranslateValue=new _reactNative.Animated.ValueXY({x:_x,y:y});_this.panResponder=(0,_utils.generatePanHandlers)(function(event){return _this.onGestureStart(event.nativeEvent);},function(event,gestureState){return _this.onGestureMove(event.nativeEvent,gestureState);},function(event,gestureState){return _this.onGestureRelease(event.nativeEvent,gestureState);});var imagesWithoutSize=(0,_utils.getImagesWithoutSize)((0,_utils.addIndexesToImages)(props.images));if(imagesWithoutSize.length){Promise.all((0,_utils.fetchImageSize)(imagesWithoutSize)).then(_this.setSizeForImages);}return _this;}(0,_createClass2.default)(ImageView,[{key:\"componentDidMount\",value:function componentDidMount(){styles=(0,_styles.default)(this.state.screenDimensions);_reactNative.Dimensions.addEventListener('change',this.onChangeDimension);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var _this2=this;var _this$state2=this.state,images=_this$state2.images,imageIndex=_this$state2.imageIndex,isVisible=_this$state2.isVisible;if(typeof this.props.isVisible!=='undefined'&&this.props.isVisible!==isVisible){this.onNextImagesReceived(this.props.images,this.props.imageIndex);if(images!==this.props.images||imageIndex!==this.props.imageIndex){var imagesWithoutSize=(0,_utils.getImagesWithoutSize)((0,_utils.addIndexesToImages)(this.props.images));if(imagesWithoutSize.length){Promise.all((0,_utils.fetchImageSize)(imagesWithoutSize)).then(function(updatedImages){return _this2.onNextImagesReceived(_this2.setSizeForImages(updatedImages),_this2.props.imageIndex);});}}this.setState({isVisible:this.props.isVisible,isFlatListRerendered:false});this.modalBackgroundOpacity.setValue(0);if(this.props.isVisible){_reactNative.Animated.timing(this.modalAnimation,{duration:400,toValue:1}).start();}}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){_reactNative.Dimensions.removeEventListener('change',this.onChangeDimension);if(this.glideAlwaysTimer){clearTimeout(this.glideAlwaysTimer);}}},{key:\"onNextImagesReceived\",value:function onNextImagesReceived(images){var _this3=this;var imageIndex=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.imageInitialParams=images.map(function(image){return(0,_utils.getInitialParams)(image,_this3.state.screenDimensions);});var _ref4=this.imageInitialParams[imageIndex]||{scale:1,translate:{}},scale=_ref4.scale,translate=_ref4.translate;this.setState({images:images,imageIndex:imageIndex,imageScale:scale,imageTranslate:translate,isFlatListRerendered:false});this.imageScaleValue.setValue(scale);this.imageTranslateValue.setValue(translate);}},{key:\"onGestureStart\",value:function onGestureStart(event){this.initialTouches=event.touches;this.currentTouchesNum=event.touches.length;}},{key:\"onGestureMove\",value:function onGestureMove(event,gestureState){if(this.isScrolling&&this.state.scrollEnabled){return;}if(this.currentTouchesNum===1&&event.touches.length===2){this.initialTouches=event.touches;}var _this$props=this.props,isSwipeCloseEnabled=_this$props.isSwipeCloseEnabled,isPinchZoomEnabled=_this$props.isPinchZoomEnabled;var _this$state3=this.state,images=_this$state3.images,imageIndex=_this$state3.imageIndex,imageScale=_this$state3.imageScale,imageTranslate=_this$state3.imageTranslate,screenDimensions=_this$state3.screenDimensions;var screenHeight=screenDimensions.screenHeight;var touches=event.touches;var x=imageTranslate.x,y=imageTranslate.y;var dx=gestureState.dx,dy=gestureState.dy;var imageInitialScale=this.getInitialScale();var height=images[imageIndex].height;if(imageScale!==imageInitialScale){this.imageTranslateValue.x.setValue(x+dx);}if(imageScale*height>screenHeight){this.imageTranslateValue.y.setValue(y+dy);}if(isSwipeCloseEnabled&&(0,_utils.scalesAreEqual)(imageScale,imageInitialScale)&&height*imageInitialScale<screenHeight){var backgroundOpacity=Math.abs(dy*BACKGROUND_OPACITY_MULTIPLIER);this.imageTranslateValue.y.setValue(y+dy);this.modalBackgroundOpacity.setValue(backgroundOpacity>1?1:backgroundOpacity);}var currentDistance=(0,_utils.getDistance)(touches);var initialDistance=(0,_utils.getDistance)(this.initialTouches);var scrollEnabled=Math.abs(dy)<FREEZE_SCROLL_DISTANCE;this.setState({scrollEnabled:scrollEnabled});if(!initialDistance){return;}if(!isPinchZoomEnabled||touches.length<2){return;}var nextScale=(0,_utils.getScale)(currentDistance,initialDistance)*imageScale;if(nextScale<imageInitialScale){nextScale=imageInitialScale;}else if(nextScale>SCALE_MAXIMUM){nextScale=SCALE_MAXIMUM;}this.imageScaleValue.setValue(nextScale);this.currentTouchesNum=event.touches.length;}},{key:\"onGestureRelease\",value:function onGestureRelease(event,gestureState){var _this4=this;if(this.glideAlwaysTimer){clearTimeout(this.glideAlwaysTimer);}if(this.props.glideAlways&&_reactNative.Platform.OS==='android'){this.glideAlwaysTimer=setTimeout(function(){_this4.glideAlwaysTimer=null;if(_this4.listRef&&_this4.listRef.scrollToIndex){_this4.listRef.scrollToIndex({index:_this4.state.imageIndex,animated:true});}},this.props.glideAlwaysDelay);}if(this.isScrolling){return;}var imageScale=this.state.imageScale;var _this$props2=this.props,isSwipeCloseEnabled=_this$props2.isSwipeCloseEnabled,isTapZoomEnabled=_this$props2.isTapZoomEnabled;var scale=this.imageScaleValue._value;var modalBackgroundOpacity=this.modalBackgroundOpacity._value;var dx=gestureState.dx,dy=gestureState.dy,vy=gestureState.vy;var imageInitialScale=this.getInitialScale();var imageInitialTranslate=this.getInitialTranslate();if(event&&!dx&&!dy&&(0,_utils.scalesAreEqual)(imageScale,scale)){if(isTapZoomEnabled&&this.doubleTapTimer){clearTimeout(this.doubleTapTimer);this.doubleTapTimer=null;scale=(0,_utils.scalesAreEqual)(imageInitialScale,scale)?scale*SCALE_MAX_MULTIPLIER:imageInitialScale;_reactNative.Animated.timing(this.imageScaleValue,{toValue:scale,duration:300}).start();this.togglePanels(scale===imageInitialScale);}else{this.doubleTapTimer=setTimeout(function(){_this4.togglePanels();_this4.doubleTapTimer=null;},200);}}var _this$calculateNextTr=this.calculateNextTranslate(dx,dy,scale),x=_this$calculateNextTr.x,y=_this$calculateNextTr.y;var scrollEnabled=scale===this.getInitialScale()&&x===imageInitialTranslate.x&&y===imageInitialTranslate.y;_reactNative.Animated.parallel([modalBackgroundOpacity>0?_reactNative.Animated.timing(this.modalBackgroundOpacity,{toValue:0,duration:100}):null,_reactNative.Animated.timing(this.imageTranslateValue.x,{toValue:x,duration:100}),_reactNative.Animated.timing(this.imageTranslateValue.y,{toValue:y,duration:100})].filter(Boolean)).start();if(isSwipeCloseEnabled&&scale===imageInitialScale&&Math.abs(vy)>=IMAGE_SPEED_FOR_CLOSE){_reactNative.Animated.timing(this.imageTranslateValue.y,{toValue:y+400*vy,duration:150}).start(this.close);}this.setState({imageScale:scale,imageTranslate:{x:x,y:y},scrollEnabled:scrollEnabled});}},{key:\"onImageLoaded\",value:function onImageLoaded(index){var images=this.state.images;images[index]=(0,_extends2.default)({},images[index],{loaded:true});this.setState({images:images});}},{key:\"getInitialScale\",value:function getInitialScale(index){var imageIndex=index!==undefined?index:this.state.imageIndex;var imageParams=this.imageInitialParams[imageIndex];return imageParams?imageParams.scale:1;}},{key:\"getInitialTranslate\",value:function getInitialTranslate(index){var imageIndex=index!==undefined?index:this.state.imageIndex;var imageParams=this.imageInitialParams[imageIndex];return imageParams?imageParams.translate:{x:0,y:0};}},{key:\"getImageStyle\",value:function getImageStyle(image,index){var _this$state4=this.state,imageIndex=_this$state4.imageIndex,screenDimensions=_this$state4.screenDimensions;var width=image.width,height=image.height;if(!width||!height){return{opacity:0};}var _calculateInitialTran=(0,_utils.calculateInitialTranslate)(width,height+1,screenDimensions),x=_calculateInitialTran.x,y=_calculateInitialTran.y;var translateValue=new _reactNative.Animated.ValueXY({x:x,y:y});var transform=index===imageIndex?this.imageTranslateValue.getTranslateTransform():translateValue.getTranslateTransform();var scale=index===imageIndex?this.imageScaleValue:this.getInitialScale(index);transform.push({scale:scale});return{width:width,height:height,transform:transform};}},{key:\"calculateNextTranslate\",value:function calculateNextTranslate(dx,dy,scale){var _this$state5=this.state,images=_this$state5.images,imageIndex=_this$state5.imageIndex,imageTranslate=_this$state5.imageTranslate,screenDimensions=_this$state5.screenDimensions;var x=imageTranslate.x,y=imageTranslate.y;var screenWidth=screenDimensions.screenWidth,screenHeight=screenDimensions.screenHeight;var _images$imageIndex=images[imageIndex],width=_images$imageIndex.width,height=_images$imageIndex.height;var imageInitialScale=this.getInitialScale();var getTranslate=function getTranslate(axis){var imageSize=axis==='x'?width:height;var screenSize=axis==='x'?screenWidth:screenHeight;var leftLimit=(scale*imageSize-imageSize)/2;var rightLimit=screenSize-imageSize-leftLimit;var nextTranslate=axis==='x'?x+dx:y+dy;if(screenSize>scale*imageSize){if(width>=height){nextTranslate=(screenSize-imageSize)/2;}else{nextTranslate=screenSize/2-imageSize*(scale/imageInitialScale)/2;}return nextTranslate;}if(nextTranslate>leftLimit){nextTranslate=leftLimit;}if(nextTranslate<rightLimit){nextTranslate=rightLimit;}return nextTranslate;};return{x:getTranslate('x'),y:getTranslate('y')};}},{key:\"togglePanels\",value:function togglePanels(isVisible){var panelsVisible=typeof isVisible!=='undefined'?isVisible:!this.state.panelsVisible;this.setState({panelsVisible:panelsVisible});_reactNative.Animated.timing(this.headerTranslateValue.y,{toValue:!panelsVisible?-(HEADER_HEIGHT+44):0,duration:200,useNativeDriver:true}).start();if(this.footerHeight>0){_reactNative.Animated.timing(this.footerTranslateValue.y,{toValue:!panelsVisible?this.footerHeight:0,duration:200,useNativeDriver:true}).start();}}},{key:\"render\",value:function render(){var _this5=this;var _this$props3=this.props,animationType=_this$props3.animationType,renderFooter=_this$props3.renderFooter,backgroundColor=_this$props3.backgroundColor;var _this$state6=this.state,images=_this$state6.images,imageIndex=_this$state6.imageIndex,imageScale=_this$state6.imageScale,isVisible=_this$state6.isVisible,scrollEnabled=_this$state6.scrollEnabled;var _this$getControls=this.getControls(),close=_this$getControls.close,prev=_this$getControls.prev,next=_this$getControls.next;var imageInitialScale=this.getInitialScale();var headerTranslate=this.headerTranslateValue.getTranslateTransform();var footerTranslate=this.footerTranslateValue.getTranslateTransform();var rgbBackgroundColor=backgroundColor&&(0,_utils.isHex)(backgroundColor)?(0,_utils.hexToRgb)(backgroundColor):defaultBackgroundColor;var rgb=rgbBackgroundColor.join(',');var animatedBackgroundColor=this.modalBackgroundOpacity.interpolate({inputRange:[0,1],outputRange:[\"rgba(\"+rgb+\", 0.9)\",\"rgba(\"+rgb+\", 0.2)\"]});var isPrevVisible=imageScale===imageInitialScale&&imageIndex>0;var isNextVisible=imageScale===imageInitialScale&&imageIndex<images.length-1;return _react.default.createElement(_reactNative.Modal,{transparent:true,visible:isVisible,animationType:animationType,onRequestClose:this.close,supportedOrientations:['portrait','landscape']},_react.default.createElement(_reactNative.Animated.View,{style:[{backgroundColor:animatedBackgroundColor},styles.underlay]}),_react.default.createElement(_reactNative.Animated.View,{style:[styles.header,{transform:headerTranslate}]},_react.default.createElement(_reactNative.SafeAreaView,{style:{flex:1}},!!close&&_react.default.createElement(close,{onPress:this.close}))),_react.default.createElement(_reactNative.FlatList,{horizontal:true,pagingEnabled:true,data:images,scrollEnabled:scrollEnabled,scrollEventThrottle:16,style:styles.container,ref:this.onFlatListRender,renderSeparator:function renderSeparator(){return null;},keyExtractor:this.listKeyExtractor,onScroll:this.onNextImage,renderItem:this.renderImage,getItemLayout:this.getItemLayout,onMomentumScrollBegin:this.onMomentumScrollBegin,onMomentumScrollEnd:this.onMomentumScrollEnd}),prev&&isPrevVisible&&_react.default.createElement(prev,{onPress:this.scrollToPrev}),next&&isNextVisible&&_react.default.createElement(next,{onPress:this.scrollToNext}),renderFooter&&_react.default.createElement(_reactNative.Animated.View,{style:[styles.footer,{transform:footerTranslate}],onLayout:function onLayout(event){_this5.footerHeight=event.nativeEvent.layout.height;}},typeof renderFooter==='function'&&images[imageIndex]&&renderFooter(images[imageIndex])));}}]);return ImageView;}(_react.Component);exports.default=ImageView;ImageView.defaultProps={backgroundColor:null,images:[],imageIndex:0,isTapZoomEnabled:true,isPinchZoomEnabled:true,isSwipeCloseEnabled:true,glideAlways:false,glideAlwaysDelay:75,controls:{prev:null,next:null}};","map":{"version":3,"names":["IMAGE_SPEED_FOR_CLOSE","SCALE_MAXIMUM","HEADER_HEIGHT","SCALE_MAX_MULTIPLIER","FREEZE_SCROLL_DISTANCE","BACKGROUND_OPACITY_MULTIPLIER","defaultBackgroundColor","getScreenDimensions","screenWidth","Dimensions","get","width","screenHeight","height","styles","createStyles","ImageView","props","onChangeDimension","window","screenDimensions","setState","onNextImagesReceived","images","state","imageIndex","onFlatListRender","flatListRef","isFlatListRerendered","listRef","length","nextTick","Promise","resolve","setTimeout","then","scrollToIndex","index","animated","onNextImage","event","nativeEvent","contentOffset","x","nextImageIndex","Math","round","isScrolling","ceil","nextImageScale","getInitialScale","nextImageTranslate","getInitialTranslate","imageScale","imageTranslate","imageScaleValue","setValue","imageTranslateValue","onImageChange","onMomentumScrollBegin","glideAlwaysTimer","clearTimeout","onMomentumScrollEnd","getItemLayout","_","offset","getControls","controls","close","prev","next","Close","undefined","Prev","Next","setSizeForImages","nextImages","map","image","nextImageSize","find","nextImage","scrollToNext","scrollToPrev","listKeyExtractor","indexOf","toString","isVisible","onClose","renderImage","item","loaded","imageContainer","source","getImageStyle","onImageLoaded","panResponder","panHandlers","loading","initialScreenDimensions","imageInitialParams","getInitialParams","y","scrollEnabled","panelsVisible","footerHeight","initialTouches","currentTouchesNum","doubleTapTimer","modalAnimation","Animated","Value","modalBackgroundOpacity","headerTranslateValue","ValueXY","footerTranslateValue","generatePanHandlers","onGestureStart","gestureState","onGestureMove","onGestureRelease","imagesWithoutSize","getImagesWithoutSize","addIndexesToImages","all","fetchImageSize","addEventListener","updatedImages","timing","duration","toValue","start","removeEventListener","scale","translate","touches","isSwipeCloseEnabled","isPinchZoomEnabled","dx","dy","imageInitialScale","scalesAreEqual","backgroundOpacity","abs","currentDistance","getDistance","initialDistance","nextScale","getScale","glideAlways","Platform","OS","glideAlwaysDelay","isTapZoomEnabled","_value","vy","imageInitialTranslate","togglePanels","calculateNextTranslate","parallel","filter","Boolean","imageParams","opacity","calculateInitialTranslate","translateValue","transform","getTranslateTransform","push","getTranslate","axis","imageSize","screenSize","leftLimit","rightLimit","nextTranslate","useNativeDriver","animationType","renderFooter","backgroundColor","headerTranslate","footerTranslate","rgbBackgroundColor","isHex","hexToRgb","rgb","join","animatedBackgroundColor","interpolate","inputRange","outputRange","isPrevVisible","isNextVisible","underlay","header","flex","React","createElement","onPress","container","footer","layout","Component","defaultProps"],"sources":["D:/React_Native/SourceCode_VPM_Swine/node_modules/react-native-image-view/src/ImageView.js"],"sourcesContent":["// @flow\n\nimport React, {Component, type Node, type ComponentType} from 'react';\nimport {\n    ActivityIndicator,\n    Animated,\n    Dimensions,\n    FlatList,\n    Modal,\n    Platform,\n    View,\n    SafeAreaView,\n} from 'react-native';\n\nimport {\n    type ControlType,\n    type ControlsType,\n    type DimensionsType,\n    type EventType,\n    type ImageType,\n    type ImageSizeType,\n    type GestureState,\n    type NativeEventType,\n    type TouchType,\n    type TransitionType,\n    type TranslateType,\n} from './types';\n\nimport {\n    addIndexesToImages,\n    calculateInitialTranslate,\n    fetchImageSize,\n    generatePanHandlers,\n    getImagesWithoutSize,\n    getScale,\n    getDistance,\n    getInitialParams,\n    hexToRgb,\n    isHex,\n    scalesAreEqual,\n} from './utils';\n\nimport createStyles from './styles';\nimport {Close, Prev, Next} from './controls';\n\nconst IMAGE_SPEED_FOR_CLOSE = 1.1;\nconst SCALE_MAXIMUM = 5;\nconst HEADER_HEIGHT = 60;\nconst SCALE_MAX_MULTIPLIER = 3;\nconst FREEZE_SCROLL_DISTANCE = 15;\nconst BACKGROUND_OPACITY_MULTIPLIER = 0.003;\nconst defaultBackgroundColor = [0, 0, 0];\n\nconst getScreenDimensions = () => ({\n    screenWidth: Dimensions.get('window').width,\n    screenHeight: Dimensions.get('window').height,\n});\n\nlet styles = createStyles(getScreenDimensions());\n\ntype PropsType = {\n    animationType: 'none' | 'fade' | 'slide',\n    backgroundColor?: string,\n    glideAlways?: boolean,\n    glideAlwaysDelay?: number,\n    images: ImageType[],\n    imageIndex: number,\n    isVisible: boolean,\n    isTapZoomEnabled: boolean,\n    isPinchZoomEnabled: boolean,\n    isSwipeCloseEnabled: boolean,\n    onClose: () => {},\n    onImageChange: number => {},\n    renderFooter: ImageType => {},\n    controls: {\n        close?: ComponentType<ControlType> | boolean,\n        next?: ComponentType<ControlType> | boolean,\n        prev?: ComponentType<ControlType> | boolean,\n    },\n};\n\nexport type StateType = {\n    images: ImageType[],\n    isVisible: boolean,\n    imageIndex: number,\n    imageScale: number,\n    imageTranslate: {x: number, y: number},\n    scrollEnabled: boolean,\n    panelsVisible: boolean,\n    isFlatListRerendered: boolean,\n    screenDimensions: {screenWidth: number, screenHeight: number},\n};\n\nexport default class ImageView extends Component<PropsType, StateType> {\n    static defaultProps = {\n        backgroundColor: null,\n        images: [],\n        imageIndex: 0,\n        isTapZoomEnabled: true,\n        isPinchZoomEnabled: true,\n        isSwipeCloseEnabled: true,\n        glideAlways: false,\n        glideAlwaysDelay: 75,\n        controls: {prev: null, next: null},\n    };\n\n    constructor(props: PropsType) {\n        super(props);\n\n        // calculate initial scale and translate for images\n        const initialScreenDimensions = getScreenDimensions();\n        this.imageInitialParams = props.images.map(image =>\n            getInitialParams(image, initialScreenDimensions)\n        );\n\n        this.state = {\n            images: props.images,\n            isVisible: props.isVisible,\n            imageIndex: props.imageIndex,\n            imageScale: 1,\n            imageTranslate: {x: 0, y: 0},\n            scrollEnabled: true,\n            panelsVisible: true,\n            isFlatListRerendered: false,\n            screenDimensions: initialScreenDimensions,\n        };\n        this.glideAlwaysTimer = null;\n        this.listRef = null;\n        this.isScrolling = false;\n        this.footerHeight = 0;\n        this.initialTouches = [];\n        this.currentTouchesNum = 0;\n        this.doubleTapTimer = null;\n        this.modalAnimation = new Animated.Value(0);\n        this.modalBackgroundOpacity = new Animated.Value(0);\n\n        this.headerTranslateValue = new Animated.ValueXY();\n        this.footerTranslateValue = new Animated.ValueXY();\n\n        this.imageScaleValue = new Animated.Value(this.getInitialScale());\n        const {x, y} = this.getInitialTranslate();\n        this.imageTranslateValue = new Animated.ValueXY({x, y});\n\n        this.panResponder = generatePanHandlers(\n            (event: EventType): void => this.onGestureStart(event.nativeEvent),\n            (event: EventType, gestureState: GestureState): void =>\n                this.onGestureMove(event.nativeEvent, gestureState),\n            (event: EventType, gestureState: GestureState): void =>\n                this.onGestureRelease(event.nativeEvent, gestureState)\n        );\n\n        const imagesWithoutSize = getImagesWithoutSize(\n            addIndexesToImages(props.images)\n        );\n\n        if (imagesWithoutSize.length) {\n            Promise.all(fetchImageSize(imagesWithoutSize)).then(\n                this.setSizeForImages\n            );\n        }\n    }\n\n    componentDidMount() {\n        styles = createStyles(this.state.screenDimensions);\n        Dimensions.addEventListener('change', this.onChangeDimension);\n    }\n\n    componentDidUpdate() {\n        const {images, imageIndex, isVisible} = this.state;\n\n        if (\n            typeof this.props.isVisible !== 'undefined' &&\n            this.props.isVisible !== isVisible\n        ) {\n            this.onNextImagesReceived(this.props.images, this.props.imageIndex);\n\n            if (\n                images !== this.props.images ||\n                imageIndex !== this.props.imageIndex\n            ) {\n                const imagesWithoutSize = getImagesWithoutSize(\n                    addIndexesToImages(this.props.images)\n                );\n\n                if (imagesWithoutSize.length) {\n                    Promise.all(fetchImageSize(imagesWithoutSize)).then(\n                        updatedImages =>\n                            this.onNextImagesReceived(\n                                this.setSizeForImages(updatedImages),\n                                this.props.imageIndex\n                            )\n                    );\n                }\n            }\n\n            this.setState({\n                isVisible: this.props.isVisible,\n                isFlatListRerendered: false,\n            });\n\n            this.modalBackgroundOpacity.setValue(0);\n\n            if (this.props.isVisible) {\n                Animated.timing(this.modalAnimation, {\n                    duration: 400,\n                    toValue: 1,\n                }).start();\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        Dimensions.removeEventListener('change', this.onChangeDimension);\n\n        if (this.glideAlwaysTimer) {\n            clearTimeout(this.glideAlwaysTimer);\n        }\n    }\n\n    onChangeDimension = ({window}: {window: DimensionsType}) => {\n        const screenDimensions = {\n            screenWidth: window.width,\n            screenHeight: window.height,\n        };\n\n        this.setState({screenDimensions});\n        styles = createStyles(screenDimensions);\n\n        this.onNextImagesReceived(this.props.images, this.state.imageIndex);\n    };\n\n    onNextImagesReceived(images: Array<ImageType>, imageIndex: number = 0) {\n        this.imageInitialParams = images.map(image =>\n            getInitialParams(image, this.state.screenDimensions)\n        );\n        const {scale, translate} = this.imageInitialParams[imageIndex] || {\n            scale: 1,\n            translate: {},\n        };\n\n        this.setState({\n            images,\n            imageIndex,\n            imageScale: scale,\n            imageTranslate: translate,\n            isFlatListRerendered: false,\n        });\n\n        this.imageScaleValue.setValue(scale);\n        this.imageTranslateValue.setValue(translate);\n    }\n\n    // $FlowFixMe\n    onFlatListRender = flatListRef => {\n        const {images, imageIndex, isFlatListRerendered} = this.state;\n\n        if (flatListRef && !isFlatListRerendered) {\n            this.listRef = flatListRef;\n            this.setState({\n                isFlatListRerendered: true,\n            });\n\n            // Fix for android https://github.com/facebook/react-native/issues/13202\n            if (images.length > 0) {\n                const nextTick = new Promise(resolve => setTimeout(resolve, 0));\n                nextTick.then(() => {\n                    flatListRef.scrollToIndex({\n                        index: imageIndex,\n                        animated: false,\n                    });\n                });\n            }\n        }\n    };\n\n    onNextImage = (event: EventType) => {\n        const {imageIndex} = this.state;\n        const {x} = event.nativeEvent.contentOffset || {x: 0};\n\n        const nextImageIndex = Math.round(\n            x / this.state.screenDimensions.screenWidth\n        );\n\n        this.isScrolling =\n            Math.ceil(x) % this.state.screenDimensions.screenWidth > 10;\n\n        if (imageIndex !== nextImageIndex && nextImageIndex >= 0) {\n            const nextImageScale = this.getInitialScale(nextImageIndex);\n            const nextImageTranslate = this.getInitialTranslate(nextImageIndex);\n\n            this.setState({\n                imageIndex: nextImageIndex,\n                imageScale: nextImageScale,\n                imageTranslate: nextImageTranslate,\n            });\n\n            this.imageScaleValue.setValue(nextImageScale);\n            this.imageTranslateValue.setValue(nextImageTranslate);\n\n            if (typeof this.props.onImageChange === 'function') {\n                this.props.onImageChange(nextImageIndex);\n            }\n        }\n    };\n\n    onGestureStart(event: NativeEventType) {\n        this.initialTouches = event.touches;\n        this.currentTouchesNum = event.touches.length;\n    }\n\n    /**\n     * If image is moved from its original position\n     * then disable scroll (for ScrollView)\n     */\n    onGestureMove(event: NativeEventType, gestureState: GestureState) {\n        if (this.isScrolling && this.state.scrollEnabled) {\n            return;\n        }\n\n        if (this.currentTouchesNum === 1 && event.touches.length === 2) {\n            this.initialTouches = event.touches;\n        }\n\n        const {isSwipeCloseEnabled, isPinchZoomEnabled} = this.props;\n\n        const {\n            images,\n            imageIndex,\n            imageScale,\n            imageTranslate,\n            screenDimensions,\n        } = this.state;\n        const {screenHeight} = screenDimensions;\n        const {touches} = event;\n        const {x, y} = imageTranslate;\n        const {dx, dy} = gestureState;\n        const imageInitialScale = this.getInitialScale();\n        const {height} = images[imageIndex];\n\n        if (imageScale !== imageInitialScale) {\n            this.imageTranslateValue.x.setValue(x + dx);\n        }\n\n        // Do not allow to move image vertically until it fits to the screen\n        if (imageScale * height > screenHeight) {\n            this.imageTranslateValue.y.setValue(y + dy);\n        }\n\n        // if image not scaled and fits to the screen\n        if (\n            isSwipeCloseEnabled &&\n            scalesAreEqual(imageScale, imageInitialScale) &&\n            height * imageInitialScale < screenHeight\n        ) {\n            const backgroundOpacity = Math.abs(\n                dy * BACKGROUND_OPACITY_MULTIPLIER\n            );\n\n            this.imageTranslateValue.y.setValue(y + dy);\n            this.modalBackgroundOpacity.setValue(\n                backgroundOpacity > 1 ? 1 : backgroundOpacity\n            );\n        }\n\n        const currentDistance = getDistance(touches);\n        const initialDistance = getDistance(this.initialTouches);\n\n        const scrollEnabled = Math.abs(dy) < FREEZE_SCROLL_DISTANCE;\n        this.setState({scrollEnabled});\n\n        if (!initialDistance) {\n            return;\n        }\n\n        if (!isPinchZoomEnabled || touches.length < 2) {\n            return;\n        }\n\n        let nextScale = getScale(currentDistance, initialDistance) * imageScale;\n\n        if (nextScale < imageInitialScale) {\n            nextScale = imageInitialScale;\n        } else if (nextScale > SCALE_MAXIMUM) {\n            nextScale = SCALE_MAXIMUM;\n        }\n\n        this.imageScaleValue.setValue(nextScale);\n        this.currentTouchesNum = event.touches.length;\n    }\n\n    onGestureRelease(event: NativeEventType, gestureState: GestureState) {\n        if (this.glideAlwaysTimer) {\n            clearTimeout(this.glideAlwaysTimer);\n        }\n\n        if (this.props.glideAlways && Platform.OS === 'android') {\n            this.glideAlwaysTimer = setTimeout(() => {\n                this.glideAlwaysTimer = null;\n                // If standard glide is not triggered then emulate it\n                // $FlowFixMe\n                if (this.listRef && this.listRef.scrollToIndex) {\n                    this.listRef.scrollToIndex({\n                        index: this.state.imageIndex,\n                        animated: true,\n                    });\n                }\n            }, this.props.glideAlwaysDelay);\n        }\n\n        if (this.isScrolling) {\n            return;\n        }\n\n        const {imageScale} = this.state;\n        const {isSwipeCloseEnabled, isTapZoomEnabled} = this.props;\n\n        let {_value: scale} = this.imageScaleValue;\n        const {_value: modalBackgroundOpacity} = this.modalBackgroundOpacity;\n\n        const {dx, dy, vy} = gestureState;\n        const imageInitialScale = this.getInitialScale();\n        const imageInitialTranslate = this.getInitialTranslate();\n\n        // Position haven't changed, so it just tap\n        if (event && !dx && !dy && scalesAreEqual(imageScale, scale)) {\n            // Double tap timer is launched, its double tap\n\n            if (isTapZoomEnabled && this.doubleTapTimer) {\n                clearTimeout(this.doubleTapTimer);\n                this.doubleTapTimer = null;\n\n                scale = scalesAreEqual(imageInitialScale, scale)\n                    ? scale * SCALE_MAX_MULTIPLIER\n                    : imageInitialScale;\n\n                Animated.timing(this.imageScaleValue, {\n                    toValue: scale,\n                    duration: 300,\n                }).start();\n\n                this.togglePanels(scale === imageInitialScale);\n            } else {\n                this.doubleTapTimer = setTimeout(() => {\n                    this.togglePanels();\n                    this.doubleTapTimer = null;\n                }, 200);\n            }\n        }\n\n        const {x, y} = this.calculateNextTranslate(dx, dy, scale);\n        const scrollEnabled =\n            scale === this.getInitialScale() &&\n            x === imageInitialTranslate.x &&\n            y === imageInitialTranslate.y;\n\n        Animated.parallel(\n            [\n                modalBackgroundOpacity > 0\n                    ? Animated.timing(this.modalBackgroundOpacity, {\n                          toValue: 0,\n                          duration: 100,\n                      })\n                    : null,\n                Animated.timing(this.imageTranslateValue.x, {\n                    toValue: x,\n                    duration: 100,\n                }),\n                Animated.timing(this.imageTranslateValue.y, {\n                    toValue: y,\n                    duration: 100,\n                }),\n            ].filter(Boolean)\n        ).start();\n\n        // Close modal with animation if image not scaled and high vertical gesture speed\n        if (\n            isSwipeCloseEnabled &&\n            scale === imageInitialScale &&\n            Math.abs(vy) >= IMAGE_SPEED_FOR_CLOSE\n        ) {\n            Animated.timing(this.imageTranslateValue.y, {\n                toValue: y + 400 * vy,\n                duration: 150,\n            }).start(this.close);\n        }\n\n        this.setState({\n            imageScale: scale,\n            imageTranslate: {x, y},\n            scrollEnabled,\n        });\n    }\n\n    onImageLoaded(index: number) {\n        const {images} = this.state;\n\n        images[index] = {...images[index], loaded: true};\n\n        this.setState({images});\n    }\n\n    onMomentumScrollBegin = () => {\n        this.isScrolling = true;\n        if (this.glideAlwaysTimer) {\n            // If FlatList started gliding then prevent glideAlways scrolling\n            clearTimeout(this.glideAlwaysTimer);\n        }\n    };\n\n    onMomentumScrollEnd = () => {\n        this.isScrolling = false;\n    };\n\n    getItemLayout = (_: *, index: number): Object => {\n        const {screenWidth} = this.state.screenDimensions;\n\n        return {length: screenWidth, offset: screenWidth * index, index};\n    };\n\n    getInitialScale(index?: number): number {\n        const imageIndex = index !== undefined ? index : this.state.imageIndex;\n        const imageParams = this.imageInitialParams[imageIndex];\n\n        return imageParams ? imageParams.scale : 1;\n    }\n\n    getInitialTranslate(index?: number): TranslateType {\n        const imageIndex = index !== undefined ? index : this.state.imageIndex;\n        const imageParams = this.imageInitialParams[imageIndex];\n\n        return imageParams ? imageParams.translate : {x: 0, y: 0};\n    }\n\n    getImageStyle(\n        image: ImageType,\n        index: number\n    ): {width?: number, height?: number, transform?: any, opacity?: number} {\n        const {imageIndex, screenDimensions} = this.state;\n        const {width, height} = image;\n\n        if (!width || !height) {\n            return {opacity: 0};\n        }\n\n        // very strange caching, fix it with changing size to 1 pixel\n        const {x, y} = calculateInitialTranslate(\n            width,\n            height + 1,\n            screenDimensions\n        );\n        const translateValue = new Animated.ValueXY({x, y});\n\n        const transform =\n            index === imageIndex\n                ? this.imageTranslateValue.getTranslateTransform()\n                : translateValue.getTranslateTransform();\n\n        const scale =\n            index === imageIndex\n                ? this.imageScaleValue\n                : this.getInitialScale(index);\n        // $FlowFixMe\n        transform.push({scale});\n\n        return {width, height, transform};\n    }\n\n    getControls = (): ControlsType => {\n        const {close, prev, next} = this.props.controls;\n        const controls = {close: Close, prev: undefined, next: undefined};\n\n        if (close === null) {\n            controls.close = null;\n        }\n\n        if (close) {\n            controls.close = close === true ? Close : close;\n        }\n\n        if (prev) {\n            controls.prev = prev === true ? Prev : prev;\n        }\n\n        if (next) {\n            controls.next = next === true ? Next : next;\n        }\n\n        return controls;\n    };\n\n    setSizeForImages = (nextImages: Array<ImageSizeType>): Array<ImageType> => {\n        if (nextImages.length === 0) {\n            return [];\n        }\n\n        const {images} = this.state;\n\n        return images.map((image, index) => {\n            const nextImageSize = nextImages.find(\n                nextImage => nextImage.index === index\n            );\n\n            /* eslint-disable */\n            if (nextImageSize) {\n                image.width = nextImageSize.width;\n                image.height = nextImageSize.height;\n            }\n            /* eslint-enable */\n\n            return image;\n        });\n    };\n\n    scrollToNext = () => {\n        if (this.listRef && typeof this.listRef.scrollToIndex === 'function') {\n            this.listRef.scrollToIndex({\n                index: this.state.imageIndex + 1,\n                animated: true,\n            });\n        }\n    };\n\n    scrollToPrev = () => {\n        if (this.listRef && typeof this.listRef.scrollToIndex === 'function') {\n            this.listRef.scrollToIndex({\n                index: this.state.imageIndex - 1,\n                animated: true,\n            });\n        }\n    };\n\n    imageInitialParams: TransitionType[];\n    glideAlwaysTimer: ?TimeoutID;\n    listRef: *;\n    isScrolling: boolean;\n    footerHeight: number;\n    initialTouches: TouchType[];\n    currentTouchesNum: number;\n    doubleTapTimer: ?TimeoutID;\n    modalAnimation: *;\n    modalBackgroundOpacity: *;\n    headerTranslateValue: *;\n    footerTranslateValue: *;\n    imageScaleValue: *;\n    imageTranslateValue: *;\n    panResponder: *;\n\n    calculateNextTranslate(\n        dx: number,\n        dy: number,\n        scale: number\n    ): {x: number, y: number} {\n        const {\n            images,\n            imageIndex,\n            imageTranslate,\n            screenDimensions,\n        } = this.state;\n        const {x, y} = imageTranslate;\n        const {screenWidth, screenHeight} = screenDimensions;\n        const {width, height} = images[imageIndex];\n        const imageInitialScale = this.getInitialScale();\n\n        const getTranslate = (axis: string): number => {\n            const imageSize = axis === 'x' ? width : height;\n            const screenSize = axis === 'x' ? screenWidth : screenHeight;\n            const leftLimit = (scale * imageSize - imageSize) / 2;\n            const rightLimit = screenSize - imageSize - leftLimit;\n\n            let nextTranslate = axis === 'x' ? x + dx : y + dy;\n\n            // Less than the screen\n            if (screenSize > scale * imageSize) {\n                if (width >= height) {\n                    nextTranslate = (screenSize - imageSize) / 2;\n                } else {\n                    nextTranslate =\n                        screenSize / 2 -\n                        (imageSize * (scale / imageInitialScale)) / 2;\n                }\n\n                return nextTranslate;\n            }\n\n            if (nextTranslate > leftLimit) {\n                nextTranslate = leftLimit;\n            }\n\n            if (nextTranslate < rightLimit) {\n                nextTranslate = rightLimit;\n            }\n\n            return nextTranslate;\n        };\n\n        return {x: getTranslate('x'), y: getTranslate('y')};\n    }\n\n    togglePanels(isVisible?: boolean) {\n        const panelsVisible =\n            typeof isVisible !== 'undefined'\n                ? isVisible\n                : !this.state.panelsVisible;\n        // toggle footer and header\n        this.setState({panelsVisible});\n\n        Animated.timing(this.headerTranslateValue.y, {\n            toValue: !panelsVisible ? -(HEADER_HEIGHT + 44) : 0,\n            duration: 200,\n            useNativeDriver: true,\n        }).start();\n\n        if (this.footerHeight > 0) {\n            Animated.timing(this.footerTranslateValue.y, {\n                toValue: !panelsVisible ? this.footerHeight : 0,\n                duration: 200,\n                useNativeDriver: true,\n            }).start();\n        }\n    }\n\n    listKeyExtractor = (image: ImageType): string =>\n        this.state.images.indexOf(image).toString();\n\n    close = () => {\n        this.setState({isVisible: false});\n\n        if (typeof this.props.onClose === 'function') {\n            this.props.onClose();\n        }\n    };\n\n    renderImage = ({item: image, index}: {item: *, index: number}): * => {\n        const loaded = image.loaded && image.width && image.height;\n\n        return (\n            <View\n                style={styles.imageContainer}\n                onStartShouldSetResponder={(): boolean => true}\n            >\n                <Animated.Image\n                    resizeMode=\"cover\"\n                    source={image.source}\n                    style={this.getImageStyle(image, index)}\n                    onLoad={(): void => this.onImageLoaded(index)}\n                    {...this.panResponder.panHandlers}\n                />\n                {!loaded && <ActivityIndicator style={styles.loading} />}\n            </View>\n        );\n    };\n\n    render(): Node {\n        const {animationType, renderFooter, backgroundColor} = this.props;\n        const {\n            images,\n            imageIndex,\n            imageScale,\n            isVisible,\n            scrollEnabled,\n        } = this.state;\n\n        const {close, prev, next} = this.getControls();\n        const imageInitialScale = this.getInitialScale();\n        const headerTranslate = this.headerTranslateValue.getTranslateTransform();\n        const footerTranslate = this.footerTranslateValue.getTranslateTransform();\n        const rgbBackgroundColor =\n            backgroundColor && isHex(backgroundColor)\n                ? hexToRgb(backgroundColor)\n                : defaultBackgroundColor;\n        const rgb = rgbBackgroundColor.join(',');\n        const animatedBackgroundColor = this.modalBackgroundOpacity.interpolate(\n            {\n                inputRange: [0, 1],\n                outputRange: [`rgba(${rgb}, 0.9)`, `rgba(${rgb}, 0.2)`],\n            }\n        );\n\n        const isPrevVisible =\n            imageScale === imageInitialScale && imageIndex > 0;\n        const isNextVisible =\n            imageScale === imageInitialScale && imageIndex < images.length - 1;\n\n        return (\n            <Modal\n                transparent\n                visible={isVisible}\n                animationType={animationType}\n                onRequestClose={this.close}\n                supportedOrientations={['portrait', 'landscape']}\n            >\n                <Animated.View\n                    style={[\n                        {backgroundColor: animatedBackgroundColor},\n                        styles.underlay,\n                    ]}\n                />\n                <Animated.View\n                    style={[\n                        styles.header,\n                        {\n                            transform: headerTranslate,\n                        },\n                    ]}\n                >\n                    <SafeAreaView style={{flex: 1}}>\n                        {!!close &&\n                            React.createElement(close, {onPress: this.close})}\n                    </SafeAreaView>\n                </Animated.View>\n                <FlatList\n                    horizontal\n                    pagingEnabled\n                    data={images}\n                    scrollEnabled={scrollEnabled}\n                    scrollEventThrottle={16}\n                    style={styles.container}\n                    ref={this.onFlatListRender}\n                    renderSeparator={() => null}\n                    keyExtractor={this.listKeyExtractor}\n                    onScroll={this.onNextImage}\n                    renderItem={this.renderImage}\n                    getItemLayout={this.getItemLayout}\n                    onMomentumScrollBegin={this.onMomentumScrollBegin}\n                    onMomentumScrollEnd={this.onMomentumScrollEnd}\n                />\n                {prev &&\n                    isPrevVisible &&\n                    React.createElement(prev, {onPress: this.scrollToPrev})}\n                {next &&\n                    isNextVisible &&\n                    React.createElement(next, {onPress: this.scrollToNext})}\n                {renderFooter && (\n                    <Animated.View\n                        style={[styles.footer, {transform: footerTranslate}]}\n                        onLayout={event => {\n                            this.footerHeight = event.nativeEvent.layout.height;\n                        }}\n                    >\n                        {typeof renderFooter === 'function' &&\n                            images[imageIndex] &&\n                            renderFooter(images[imageIndex])}\n                    </Animated.View>\n                )}\n            </Modal>\n        );\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}