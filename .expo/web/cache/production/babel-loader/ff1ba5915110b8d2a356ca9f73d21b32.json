{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=timing;var _base=require(\"../base\");var internalTiming=(0,_base.proc)(function(clock,time,frameTime,position,finished,toValue,duration,nextProgress,progress,newFrameTime){var state={time:time,finished:finished,frameTime:frameTime,position:position};var config={duration:duration,toValue:toValue};var distanceLeft=(0,_base.sub)(config.toValue,state.position);var fullDistance=(0,_base.divide)(distanceLeft,(0,_base.sub)(1,progress));var startPosition=(0,_base.sub)(config.toValue,fullDistance);var nextPosition=(0,_base.add)(startPosition,(0,_base.multiply)(fullDistance,nextProgress));return(0,_base.block)([(0,_base.cond)((0,_base.greaterOrEq)(newFrameTime,config.duration),[(0,_base.set)(state.position,config.toValue),(0,_base.set)(state.finished,1)],(0,_base.set)(state.position,nextPosition)),(0,_base.set)(state.frameTime,newFrameTime),(0,_base.set)(state.time,clock)]);});function timing(clock,state,config){if(config.duration===0){return(0,_base.block)([(0,_base.set)(state.position,config.toValue),(0,_base.set)(state.finished,1)]);}var lastTime=(0,_base.cond)(state.time,state.time,clock);var newFrameTime=(0,_base.add)(state.frameTime,(0,_base.sub)(clock,lastTime));var nextProgress=config.easing((0,_base.divide)(newFrameTime,config.duration));var progress=config.easing((0,_base.divide)(state.frameTime,config.duration));return internalTiming(clock,state.time,state.frameTime,state.position,state.finished,config.toValue,config.duration,nextProgress,progress,newFrameTime);}","map":{"version":3,"names":["internalTiming","proc","clock","time","frameTime","position","finished","toValue","duration","nextProgress","progress","newFrameTime","state","config","distanceLeft","sub","fullDistance","divide","startPosition","nextPosition","add","multiply","block","cond","greaterOrEq","set","timing","lastTime","easing"],"sources":["D:/React_Native/SourceCode_VPM_Swine/node_modules/react-native-reanimated/lib/reanimated1/animations/timing.js"],"sourcesContent":["import {\n  cond,\n  sub,\n  divide,\n  multiply,\n  add,\n  block,\n  set,\n  greaterOrEq,\n  proc,\n} from '../base';\n\nconst internalTiming = proc(function (\n  clock,\n  time,\n  frameTime,\n  position,\n  finished,\n  toValue,\n  duration,\n  nextProgress,\n  progress,\n  newFrameTime\n) {\n  const state = {\n    time,\n    finished,\n    frameTime,\n    position,\n  };\n\n  const config = {\n    duration,\n    toValue,\n  };\n\n  const distanceLeft = sub(config.toValue, state.position);\n  const fullDistance = divide(distanceLeft, sub(1, progress));\n  const startPosition = sub(config.toValue, fullDistance);\n  const nextPosition = add(startPosition, multiply(fullDistance, nextProgress));\n\n  return block([\n    cond(\n      greaterOrEq(newFrameTime, config.duration),\n      [set(state.position, config.toValue), set(state.finished, 1)],\n      set(state.position, nextPosition)\n    ),\n    set(state.frameTime, newFrameTime),\n    set(state.time, clock),\n  ]);\n});\n\nexport default function timing(clock, state, config) {\n  if (config.duration === 0) {\n    // when duration is zero we end the timing immediately\n    return block([set(state.position, config.toValue), set(state.finished, 1)]);\n  }\n  const lastTime = cond(state.time, state.time, clock);\n  const newFrameTime = add(state.frameTime, sub(clock, lastTime));\n  const nextProgress = config.easing(divide(newFrameTime, config.duration));\n  const progress = config.easing(divide(state.frameTime, config.duration));\n  return internalTiming(\n    clock,\n    state.time,\n    state.frameTime,\n    state.position,\n    state.finished,\n    config.toValue,\n    config.duration,\n    nextProgress,\n    progress,\n    newFrameTime\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}