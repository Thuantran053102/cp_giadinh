{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=useCode;var _react=_interopRequireDefault(require(\"react\"));var _base=require(\"../base\");function useCode(nodeFactory,dependencies){if(!(_react.default.useEffect instanceof Function))return;_react.default.useEffect(function(){if(!(nodeFactory instanceof Function)){console.warn('useCode() first argument should be a function that returns an animation node.');var _node=nodeFactory;nodeFactory=function nodeFactory(){return _node;};}var node=nodeFactory();if(node){if(node instanceof Array)node=(0,_base.block)(node);var animatedAlways=(0,_base.always)(node);animatedAlways.__attach();return function(){return animatedAlways.__detach();};}},dependencies);}","map":{"version":3,"names":["useCode","nodeFactory","dependencies","React","useEffect","Function","console","warn","node","Array","block","animatedAlways","always","__attach","__detach"],"sources":["D:/React_Native/SourceCode_VPM_Swine/node_modules/react-native-reanimated/lib/reanimated1/derived/useCode.js"],"sourcesContent":["import React from 'react';\nimport { always, block } from '../base';\n\n/**\n * @callback NodeFactory\n * Function to create a node or an array of nodes.\n * @returns {(Node[] | Node | null | undefined | Boolean)}\n */\n\n/**\n * React hook to run a node.\n * @param {NodeFactory} nodeFactory Function to build the node to run.\n * @param dependencies Array of dependencies. Refresh the node on changes.\n */\nexport default function useCode(nodeFactory, dependencies) {\n  if (!(React.useEffect instanceof Function)) return;\n\n  React.useEffect(() => {\n    // check and correct 1st parameter\n    if (!(nodeFactory instanceof Function)) {\n      console.warn(\n        'useCode() first argument should be a function that returns an animation node.'\n      );\n\n      const node = nodeFactory;\n      nodeFactory = () => node;\n    }\n\n    let node = nodeFactory();\n    if (node) {\n      // allow factory to return array\n      if (node instanceof Array) node = block(node);\n\n      const animatedAlways = always(node);\n      animatedAlways.__attach();\n\n      // return undo function\n      return () => animatedAlways.__detach();\n    }\n  }, dependencies);\n}\n"],"mappings":"oKAAA,oDACA,6BAae,QAASA,QAAT,CAAiBC,WAAjB,CAA8BC,YAA9B,CAA4C,CACzD,GAAI,EAAEC,cAAA,CAAMC,SAAN,WAA2BC,SAA7B,CAAJ,CAA4C,OAE5CF,cAAA,CAAMC,SAAN,CAAgB,UAAM,CAEpB,GAAI,EAAEH,WAAW,WAAYI,SAAzB,CAAJ,CAAwC,CACtCC,OAAO,CAACC,IAAR,CACE,+EADF,EAIA,GAAMC,MAAI,CAAGP,WAAb,CACAA,WAAW,CAAG,6BAAMO,MAAN,EAAd,CACD,CAED,GAAIA,KAAI,CAAGP,WAAW,EAAtB,CACA,GAAIO,IAAJ,CAAU,CAER,GAAIA,IAAI,WAAYC,MAApB,CAA2BD,IAAI,CAAG,GAAAE,WAAA,EAAMF,IAAN,CAAP,CAE3B,GAAMG,eAAc,CAAG,GAAAC,YAAA,EAAOJ,IAAP,CAAvB,CACAG,cAAc,CAACE,QAAf,GAGA,MAAO,kBAAMF,eAAc,CAACG,QAAf,EAAN,EAAP,CACD,CACF,CAtBD,CAsBGZ,YAtBH,EAuBD"},"metadata":{},"sourceType":"script"}