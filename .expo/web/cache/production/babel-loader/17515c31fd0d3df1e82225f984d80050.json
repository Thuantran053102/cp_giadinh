{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=createAnimatedComponent;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _react=_interopRequireDefault(require(\"react\"));var _reactNative=require(\"react-native\");var _ReanimatedEventEmitter=_interopRequireDefault(require(\"./ReanimatedEventEmitter\"));var _AnimatedEvent=_interopRequireDefault(require(\"./reanimated1/core/AnimatedEvent\"));var _AnimatedNode=_interopRequireDefault(require(\"./reanimated1/core/AnimatedNode\"));var _AnimatedValue=_interopRequireDefault(require(\"./reanimated1/core/AnimatedValue\"));var _AnimatedProps=require(\"./reanimated1/core/AnimatedProps\");var _WorkletEventHandler=_interopRequireDefault(require(\"./reanimated2/WorkletEventHandler\"));var _setAndForwardRef=_interopRequireDefault(require(\"./setAndForwardRef\"));require(\"./reanimated2/layoutReanimation/LayoutAnimationRepository\");var _invariant=_interopRequireDefault(require(\"invariant\"));var _ConfigHelper=require(\"./ConfigHelper\");var _RNRenderer=require(\"./reanimated2/platform-specific/RNRenderer\");var _core=require(\"./reanimated2/core\");var _Default=require(\"./reanimated2/layoutReanimation/defaultAnimations/Default\");var _PlatformChecker=require(\"./reanimated2/PlatformChecker\");var _animation=require(\"./reanimated2/animation\");function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var NODE_MAPPING=new Map();function listener(data){var component=NODE_MAPPING.get(data.viewTag);component&&component._updateFromNative(data.props);}function dummyListener(){}function hasAnimatedNodes(value){if(value instanceof _AnimatedNode.default){return true;}if(Array.isArray(value)){return value.some(function(item){return hasAnimatedNodes(item);});}if(value&&typeof value==='object'){return Object.keys(value).some(function(key){return hasAnimatedNodes(value[key]);});}return false;}function flattenArray(array){if(!Array.isArray(array)){return[array];}var resultArr=[];var _flattenArray=function _flattenArray(arr){arr.forEach(function(item){if(Array.isArray(item)){_flattenArray(item);}else{resultArr.push(item);}});};_flattenArray(array);return resultArr;}function onlyAnimatedStyles(styles){return styles.filter(function(style){return style===null||style===void 0?void 0:style.viewDescriptors;});}function isSameAnimatedStyle(style1,style2){return(style1===null||style1===void 0?void 0:style1.viewsRef)===(style2===null||style2===void 0?void 0:style2.viewsRef);}var isSameAnimatedProps=isSameAnimatedStyle;var has=function has(key,x){if(typeof x==='function'||typeof x==='object'){if(x===null||x===undefined){return false;}else{return key in x;}}return false;};function createAnimatedComponent(Component,options){(0,_invariant.default)(typeof Component!=='function'||Component.prototype&&Component.prototype.isReactComponent,'`createAnimatedComponent` does not support stateless functional components; '+'use a class component instead.');var AnimatedComponent=function(_React$Component){(0,_inherits2.default)(AnimatedComponent,_React$Component);var _super=_createSuper(AnimatedComponent);function AnimatedComponent(props){var _this;(0,_classCallCheck2.default)(this,AnimatedComponent);_this=_super.call(this,props);_this._invokeAnimatedPropsCallbackOnMount=false;_this._styles=null;_this._viewTag=-1;_this._isFirstRender=true;_this.animatedStyle={value:{}};_this._component=null;_this._animatedPropsCallback=function(){if(_this._component==null){_this._invokeAnimatedPropsCallbackOnMount=true;}else if(typeof _this._component.setNativeProps!=='function'){_this.forceUpdate();}else{_this._component.setNativeProps(_this._propsAnimated.__getValue());}};_this._setComponentRef=(0,_setAndForwardRef.default)({getForwardedRef:function getForwardedRef(){return _this.props.forwardedRef;},setLocalRef:function setLocalRef(ref){var tag=(0,_reactNative.findNodeHandle)(ref);if((_this.props.layout||_this.props.entering||_this.props.exiting)&&tag!=null){if(!(0,_PlatformChecker.shouldBeUseWeb)()){(0,_core.enableLayoutAnimations)(true,false);}var layout=_this.props.layout?_this.props.layout:_Default.DefaultLayout;var entering=_this.props.entering?_this.props.entering:_Default.DefaultEntering;var exiting=_this.props.exiting?_this.props.exiting:_Default.DefaultExiting;if(has('build',layout)){layout=layout.build();}if(has('build',entering)){entering=entering.build();}if(has('build',exiting)){exiting=exiting.build();}var config={layout:layout,entering:entering,exiting:exiting,sv:_this.sv};(0,_core.runOnUI)(function(){'worklet';global.LayoutAnimationRepository.registerConfig(tag,config);})();}if(ref!==_this._component){_this._component=ref;}}});_this._attachProps(_this.props);if((0,_PlatformChecker.isJest)()){_this.animatedStyle={value:{}};}_this.sv=(0,_core.makeMutable)({});return _this;}(0,_createClass2.default)(AnimatedComponent,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._detachPropUpdater();this._propsAnimated&&this._propsAnimated.__detach();this._detachNativeEvents();this._detachStyles();this.sv=null;}},{key:\"componentDidMount\",value:function componentDidMount(){if(this._invokeAnimatedPropsCallbackOnMount){this._invokeAnimatedPropsCallbackOnMount=false;this._animatedPropsCallback();}this._propsAnimated&&this._propsAnimated.setNativeView(this._component);this._attachNativeEvents();this._attachPropUpdater();this._attachAnimatedStyles();}},{key:\"_getEventViewRef\",value:function _getEventViewRef(){var _a;return((_a=this._component)===null||_a===void 0?void 0:_a.getScrollableNode)?this._component.getScrollableNode():this._component;}},{key:\"_attachNativeEvents\",value:function _attachNativeEvents(){var node=this._getEventViewRef();var viewTag=(0,_reactNative.findNodeHandle)((options===null||options===void 0?void 0:options.setNativeProps)?this:node);for(var key in this.props){var prop=this.props[key];if(prop instanceof _AnimatedEvent.default){prop.attachEvent(node,key);}else if(has('current',prop)&&prop.current instanceof _WorkletEventHandler.default){prop.current.registerForEvents(viewTag,key);}}}},{key:\"_detachNativeEvents\",value:function _detachNativeEvents(){var node=this._getEventViewRef();for(var key in this.props){var prop=this.props[key];if(prop instanceof _AnimatedEvent.default){prop.detachEvent(node,key);}else if(has('current',prop)&&prop.current instanceof _WorkletEventHandler.default){prop.current.unregisterFromEvents();}}}},{key:\"_detachStyles\",value:function _detachStyles(){var _a;if(_reactNative.Platform.OS==='web'&&this._styles!==null){for(var _iterator=_createForOfIteratorHelperLoose(this._styles),_step;!(_step=_iterator()).done;){var style=_step.value;if(style===null||style===void 0?void 0:style.viewsRef){style.viewsRef.remove(this);}}}else if(this._viewTag!==-1&&this._styles!==null){for(var _iterator2=_createForOfIteratorHelperLoose(this._styles),_step2;!(_step2=_iterator2()).done;){var _style=_step2.value;_style.viewDescriptors.remove(this._viewTag);}if((_a=this.props.animatedProps)===null||_a===void 0?void 0:_a.viewDescriptors){this.props.animatedProps.viewDescriptors.remove(this._viewTag);}}}},{key:\"_reattachNativeEvents\",value:function _reattachNativeEvents(prevProps){var node=this._getEventViewRef();var attached=new Set();var nextEvts=new Set();var viewTag;for(var key in this.props){var prop=this.props[key];if(prop instanceof _AnimatedEvent.default){nextEvts.add(prop.__nodeID);}else if(has('current',prop)&&prop.current instanceof _WorkletEventHandler.default){if(viewTag===undefined){viewTag=prop.current.viewTag;}}}for(var _key in prevProps){var _prop=this.props[_key];if(_prop instanceof _AnimatedEvent.default){if(!nextEvts.has(_prop.__nodeID)){_prop.detachEvent(node,_key);}else{attached.add(_prop.__nodeID);}}else if(has('current',_prop)&&_prop.current instanceof _WorkletEventHandler.default&&_prop.current.reattachNeeded){_prop.current.unregisterFromEvents();}}for(var _key2 in this.props){var _prop2=this.props[_key2];if(_prop2 instanceof _AnimatedEvent.default&&!attached.has(_prop2.__nodeID)){_prop2.attachEvent(node,_key2);}else if(has('current',_prop2)&&_prop2.current instanceof _WorkletEventHandler.default&&_prop2.current.reattachNeeded){_prop2.current.registerForEvents(viewTag,_key2);_prop2.current.reattachNeeded=false;}}}},{key:\"_attachProps\",value:function _attachProps(nextProps){var oldPropsAnimated=this._propsAnimated;this._propsAnimated=(0,_AnimatedProps.createOrReusePropsNode)(nextProps,this._animatedPropsCallback,oldPropsAnimated);if(oldPropsAnimated!==this._propsAnimated){oldPropsAnimated&&oldPropsAnimated.__detach();}}},{key:\"_updateFromNative\",value:function _updateFromNative(props){var _a,_b;if(options===null||options===void 0?void 0:options.setNativeProps){options.setNativeProps(this._component,props);}else{(_b=(_a=this._component)===null||_a===void 0?void 0:_a.setNativeProps)===null||_b===void 0?void 0:_b.call(_a,props);}}},{key:\"_attachPropUpdater\",value:function _attachPropUpdater(){var viewTag=(0,_reactNative.findNodeHandle)(this);NODE_MAPPING.set(viewTag,this);if(NODE_MAPPING.size===1){_ReanimatedEventEmitter.default.addListener('onReanimatedPropsChange',listener);}}},{key:\"_attachAnimatedStyles\",value:function _attachAnimatedStyles(){var _this2=this;var _a,_b,_c;var styles=this.props.style?onlyAnimatedStyles(flattenArray(this.props.style)):[];var prevStyles=this._styles;this._styles=styles;var prevAnimatedProps=this._animatedProps;this._animatedProps=this.props.animatedProps;var viewTag;var viewName;if(_reactNative.Platform.OS==='web'){viewTag=(0,_reactNative.findNodeHandle)(this);viewName=null;}else{var hostInstance=_RNRenderer.RNRenderer.findHostInstance_DEPRECATED(this);if(!hostInstance){throw new Error('Cannot find host instance for this component. Maybe it renders nothing?');}viewTag=hostInstance===null||hostInstance===void 0?void 0:hostInstance._nativeTag;viewName=(_a=hostInstance===null||hostInstance===void 0?void 0:hostInstance.viewConfig)===null||_a===void 0?void 0:_a.uiViewClassName;var hasReanimated2Props=((_b=this.props.animatedProps)===null||_b===void 0?void 0:_b.viewDescriptors)||styles.length;if(hasReanimated2Props&&(hostInstance===null||hostInstance===void 0?void 0:hostInstance.viewConfig)){(0,_ConfigHelper.adaptViewConfig)(hostInstance.viewConfig);}}this._viewTag=viewTag;if(prevStyles){var hasOneSameStyle=styles.length===1&&prevStyles.length===1&&isSameAnimatedStyle(styles[0],prevStyles[0]);if(!hasOneSameStyle){var _loop=function _loop(prevStyle){var isPresent=styles.some(function(style){return isSameAnimatedStyle(style,prevStyle);});if(!isPresent){prevStyle.viewDescriptors.remove(viewTag);}};for(var _iterator3=_createForOfIteratorHelperLoose(prevStyles),_step3;!(_step3=_iterator3()).done;){var prevStyle=_step3.value;_loop(prevStyle);}}}styles.forEach(function(style){style.viewDescriptors.add({tag:viewTag,name:viewName});if((0,_PlatformChecker.isJest)()){_this2.animatedStyle.value=(0,_extends2.default)((0,_extends2.default)({},_this2.animatedStyle.value),style.initial.value);style.animatedStyle.current=_this2.animatedStyle;}});if(prevAnimatedProps&&!isSameAnimatedProps(prevAnimatedProps,this.props.animatedProps)){prevAnimatedProps.viewDescriptors.remove(viewTag);}if((_c=this.props.animatedProps)===null||_c===void 0?void 0:_c.viewDescriptors){this.props.animatedProps.viewDescriptors.add({tag:viewTag,name:viewName});}}},{key:\"_detachPropUpdater\",value:function _detachPropUpdater(){var viewTag=(0,_reactNative.findNodeHandle)(this);NODE_MAPPING.delete(viewTag);if(NODE_MAPPING.size===0){_ReanimatedEventEmitter.default.removeAllListeners('onReanimatedPropsChange');}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){this._attachProps(this.props);this._reattachNativeEvents(prevProps);this._propsAnimated&&this._propsAnimated.setNativeView(this._component);this._attachAnimatedStyles();}},{key:\"_filterNonAnimatedStyle\",value:function _filterNonAnimatedStyle(inputStyle){var style={};for(var key in inputStyle){var value=inputStyle[key];if(!hasAnimatedNodes(value)){style[key]=value;}else if(value instanceof _AnimatedValue.default){style[key]=value._startingValue;}}return style;}},{key:\"_filterNonAnimatedProps\",value:function _filterNonAnimatedProps(inputProps){var _this3=this;var props={};var _loop2=function _loop2(key){var value=inputProps[key];if(key==='style'){var styleProp=inputProps.style;var styles=flattenArray(styleProp!==null&&styleProp!==void 0?styleProp:[]);var processedStyle=styles.map(function(style){if(style&&style.viewDescriptors){style.viewsRef.add(_this3);if(_this3._isFirstRender){return(0,_extends2.default)((0,_extends2.default)({},style.initial.value),(0,_animation.initialUpdaterRun)(style.initial.updater));}else{return style.initial.value;}}else{return style;}});props[key]=_this3._filterNonAnimatedStyle(_reactNative.StyleSheet.flatten(processedStyle));}else if(key==='animatedProps'){var animatedProp=inputProps.animatedProps;if(animatedProp.initial!==undefined){Object.keys(animatedProp.initial.value).forEach(function(key){var _a,_b;props[key]=(_a=animatedProp.initial)===null||_a===void 0?void 0:_a.value[key];(_b=animatedProp.viewsRef)===null||_b===void 0?void 0:_b.add(_this3);});}}else if(value instanceof _AnimatedEvent.default){props[key]=dummyListener;}else if(has('current',value)&&value.current instanceof _WorkletEventHandler.default){if(value.current.eventNames.length>0){value.current.eventNames.forEach(function(eventName){props[eventName]=has('listeners',value.current)?value.current.listeners[eventName]:dummyListener;});}else{props[key]=dummyListener;}}else if(!(value instanceof _AnimatedNode.default)){if(key!=='onGestureHandlerStateChange'||!(0,_PlatformChecker.isChromeDebugger)()){props[key]=value;}}else if(value instanceof _AnimatedValue.default){props[key]=value._startingValue;}};for(var key in inputProps){_loop2(key);}return props;}},{key:\"render\",value:function render(){var props=this._filterNonAnimatedProps(this.props);if((0,_PlatformChecker.isJest)()){props.animatedStyle=this.animatedStyle;}if(this._isFirstRender){this._isFirstRender=false;}var platformProps=_reactNative.Platform.select({web:{},default:{collapsable:false}});return _react.default.createElement(Component,(0,_extends2.default)({},props,{ref:this._setComponentRef},platformProps));}}]);return AnimatedComponent;}(_react.default.Component);AnimatedComponent.displayName=\"AnimatedComponent(\"+(Component.displayName||Component.name||'Component')+\")\";return _react.default.forwardRef(function(props,ref){return _react.default.createElement(AnimatedComponent,(0,_extends2.default)({},props,ref===null?null:{forwardedRef:ref}));});}","map":{"version":3,"names":["NODE_MAPPING","Map","listener","data","component","get","viewTag","_updateFromNative","props","dummyListener","hasAnimatedNodes","value","AnimatedNode","Array","isArray","some","item","Object","keys","key","flattenArray","array","resultArr","_flattenArray","arr","forEach","push","onlyAnimatedStyles","styles","filter","style","viewDescriptors","isSameAnimatedStyle","style1","style2","viewsRef","isSameAnimatedProps","has","x","undefined","createAnimatedComponent","Component","options","invariant","prototype","isReactComponent","AnimatedComponent","_invokeAnimatedPropsCallbackOnMount","_styles","_viewTag","_isFirstRender","animatedStyle","_component","_animatedPropsCallback","setNativeProps","forceUpdate","_propsAnimated","__getValue","_setComponentRef","setAndForwardRef","getForwardedRef","forwardedRef","setLocalRef","ref","tag","findNodeHandle","layout","entering","exiting","shouldBeUseWeb","enableLayoutAnimations","DefaultLayout","DefaultEntering","DefaultExiting","build","config","sv","runOnUI","global","LayoutAnimationRepository","registerConfig","_attachProps","isJest","makeMutable","_detachPropUpdater","__detach","_detachNativeEvents","_detachStyles","setNativeView","_attachNativeEvents","_attachPropUpdater","_attachAnimatedStyles","_a","getScrollableNode","node","_getEventViewRef","prop","AnimatedEvent","attachEvent","current","WorkletEventHandler","registerForEvents","detachEvent","unregisterFromEvents","Platform","OS","remove","animatedProps","prevProps","attached","Set","nextEvts","add","__nodeID","reattachNeeded","nextProps","oldPropsAnimated","createOrReusePropsNode","_b","call","set","size","ReanimatedEventEmitter","addListener","_c","prevStyles","prevAnimatedProps","_animatedProps","viewName","hostInstance","RNRenderer","findHostInstance_DEPRECATED","Error","_nativeTag","viewConfig","uiViewClassName","hasReanimated2Props","length","adaptViewConfig","hasOneSameStyle","prevStyle","isPresent","name","initial","delete","removeAllListeners","_reattachNativeEvents","inputStyle","AnimatedValue","_startingValue","inputProps","styleProp","processedStyle","map","initialUpdaterRun","updater","_filterNonAnimatedStyle","StyleSheet","flatten","animatedProp","eventNames","eventName","listeners","isChromeDebugger","_filterNonAnimatedProps","platformProps","select","web","default","collapsable","React","displayName","forwardRef"],"sources":["D:/React_Native/SourceCode_VPM_Swine/node_modules/react-native-reanimated/lib/createAnimatedComponent.js"],"sourcesContent":["import React from 'react';\nimport { findNodeHandle, Platform, StyleSheet } from 'react-native';\nimport ReanimatedEventEmitter from './ReanimatedEventEmitter';\n// @ts-ignore JS file\nimport AnimatedEvent from './reanimated1/core/AnimatedEvent';\n// @ts-ignore JS file\nimport AnimatedNode from './reanimated1/core/AnimatedNode';\n// @ts-ignore JS file\nimport AnimatedValue from './reanimated1/core/AnimatedValue';\n// @ts-ignore JS file\nimport { createOrReusePropsNode } from './reanimated1/core/AnimatedProps';\nimport WorkletEventHandler from './reanimated2/WorkletEventHandler';\nimport setAndForwardRef from './setAndForwardRef';\nimport './reanimated2/layoutReanimation/LayoutAnimationRepository';\nimport invariant from 'invariant';\nimport { adaptViewConfig } from './ConfigHelper';\nimport { RNRenderer } from './reanimated2/platform-specific/RNRenderer';\nimport { makeMutable, runOnUI, enableLayoutAnimations, } from './reanimated2/core';\nimport { DefaultEntering, DefaultExiting, DefaultLayout, } from './reanimated2/layoutReanimation/defaultAnimations/Default';\nimport { isJest, isChromeDebugger, shouldBeUseWeb, } from './reanimated2/PlatformChecker';\nimport { initialUpdaterRun } from './reanimated2/animation';\nconst NODE_MAPPING = new Map();\nfunction listener(data) {\n    const component = NODE_MAPPING.get(data.viewTag);\n    component && component._updateFromNative(data.props);\n}\nfunction dummyListener() {\n    // empty listener we use to assign to listener properties for which animated\n    // event is used.\n}\nfunction hasAnimatedNodes(value) {\n    if (value instanceof AnimatedNode) {\n        return true;\n    }\n    if (Array.isArray(value)) {\n        return value.some((item) => hasAnimatedNodes(item));\n    }\n    if (value && typeof value === 'object') {\n        return Object.keys(value).some((key) => hasAnimatedNodes(value[key]));\n    }\n    return false;\n}\nfunction flattenArray(array) {\n    if (!Array.isArray(array)) {\n        return [array];\n    }\n    const resultArr = [];\n    const _flattenArray = (arr) => {\n        arr.forEach((item) => {\n            if (Array.isArray(item)) {\n                _flattenArray(item);\n            }\n            else {\n                resultArr.push(item);\n            }\n        });\n    };\n    _flattenArray(array);\n    return resultArr;\n}\nfunction onlyAnimatedStyles(styles) {\n    return styles.filter((style) => style === null || style === void 0 ? void 0 : style.viewDescriptors);\n}\nfunction isSameAnimatedStyle(style1, style2) {\n    // We cannot use equality check to compare useAnimatedStyle outputs directly.\n    // Instead, we can compare its viewsRefs.\n    return (style1 === null || style1 === void 0 ? void 0 : style1.viewsRef) === (style2 === null || style2 === void 0 ? void 0 : style2.viewsRef);\n}\nconst isSameAnimatedProps = isSameAnimatedStyle;\nconst has = (key, x) => {\n    if (typeof x === 'function' || typeof x === 'object') {\n        if (x === null || x === undefined) {\n            return false;\n        }\n        else {\n            return key in x;\n        }\n    }\n    return false;\n};\nexport default function createAnimatedComponent(Component, options) {\n    invariant(typeof Component !== 'function' ||\n        (Component.prototype && Component.prototype.isReactComponent), '`createAnimatedComponent` does not support stateless functional components; ' +\n        'use a class component instead.');\n    class AnimatedComponent extends React.Component {\n        constructor(props) {\n            super(props);\n            this._invokeAnimatedPropsCallbackOnMount = false;\n            this._styles = null;\n            this._viewTag = -1;\n            this._isFirstRender = true;\n            this.animatedStyle = { value: {} };\n            this._component = null;\n            // The system is best designed when setNativeProps is implemented. It is\n            // able to avoid re-rendering and directly set the attributes that changed.\n            // However, setNativeProps can only be implemented on native components\n            // If you want to animate a composite component, you need to re-render it.\n            // In this case, we have a fallback that uses forceUpdate.\n            this._animatedPropsCallback = () => {\n                if (this._component == null) {\n                    // AnimatedProps is created in will-mount because it's used in render.\n                    // But this callback may be invoked before mount in async mode,\n                    // In which case we should defer the setNativeProps() call.\n                    // React may throw away uncommitted work in async mode,\n                    // So a deferred call won't always be invoked.\n                    this._invokeAnimatedPropsCallbackOnMount = true;\n                }\n                else if (typeof this._component.setNativeProps !== 'function') {\n                    this.forceUpdate();\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    this._component.setNativeProps(this._propsAnimated.__getValue());\n                }\n            };\n            this._setComponentRef = setAndForwardRef({\n                getForwardedRef: () => this.props.forwardedRef,\n                setLocalRef: (ref) => {\n                    // TODO update config\n                    const tag = findNodeHandle(ref);\n                    if ((this.props.layout || this.props.entering || this.props.exiting) &&\n                        tag != null) {\n                        if (!shouldBeUseWeb()) {\n                            enableLayoutAnimations(true, false);\n                        }\n                        let layout = this.props.layout ? this.props.layout : DefaultLayout;\n                        let entering = this.props.entering\n                            ? this.props.entering\n                            : DefaultEntering;\n                        let exiting = this.props.exiting\n                            ? this.props.exiting\n                            : DefaultExiting;\n                        if (has('build', layout)) {\n                            layout = layout.build();\n                        }\n                        if (has('build', entering)) {\n                            entering = entering.build();\n                        }\n                        if (has('build', exiting)) {\n                            exiting = exiting.build();\n                        }\n                        const config = {\n                            layout,\n                            entering,\n                            exiting,\n                            sv: this.sv,\n                        };\n                        runOnUI(() => {\n                            'worklet';\n                            global.LayoutAnimationRepository.registerConfig(tag, config);\n                        })();\n                    }\n                    if (ref !== this._component) {\n                        this._component = ref;\n                    }\n                },\n            });\n            this._attachProps(this.props);\n            if (isJest()) {\n                this.animatedStyle = { value: {} };\n            }\n            this.sv = makeMutable({});\n        }\n        componentWillUnmount() {\n            this._detachPropUpdater();\n            this._propsAnimated && this._propsAnimated.__detach();\n            this._detachNativeEvents();\n            this._detachStyles();\n            this.sv = null;\n        }\n        componentDidMount() {\n            if (this._invokeAnimatedPropsCallbackOnMount) {\n                this._invokeAnimatedPropsCallbackOnMount = false;\n                this._animatedPropsCallback();\n            }\n            this._propsAnimated &&\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                this._propsAnimated.setNativeView(this._component);\n            this._attachNativeEvents();\n            this._attachPropUpdater();\n            this._attachAnimatedStyles();\n        }\n        _getEventViewRef() {\n            var _a;\n            // Make sure to get the scrollable node for components that implement\n            // `ScrollResponder.Mixin`.\n            return ((_a = this._component) === null || _a === void 0 ? void 0 : _a.getScrollableNode) ? this._component.getScrollableNode()\n                : this._component;\n        }\n        _attachNativeEvents() {\n            const node = this._getEventViewRef();\n            const viewTag = findNodeHandle((options === null || options === void 0 ? void 0 : options.setNativeProps) ? this : node);\n            for (const key in this.props) {\n                const prop = this.props[key];\n                if (prop instanceof AnimatedEvent) {\n                    prop.attachEvent(node, key);\n                }\n                else if (has('current', prop) &&\n                    prop.current instanceof WorkletEventHandler) {\n                    prop.current.registerForEvents(viewTag, key);\n                }\n            }\n        }\n        _detachNativeEvents() {\n            const node = this._getEventViewRef();\n            for (const key in this.props) {\n                const prop = this.props[key];\n                if (prop instanceof AnimatedEvent) {\n                    prop.detachEvent(node, key);\n                }\n                else if (has('current', prop) &&\n                    prop.current instanceof WorkletEventHandler) {\n                    prop.current.unregisterFromEvents();\n                }\n            }\n        }\n        _detachStyles() {\n            var _a;\n            if (Platform.OS === 'web' && this._styles !== null) {\n                for (const style of this._styles) {\n                    if (style === null || style === void 0 ? void 0 : style.viewsRef) {\n                        style.viewsRef.remove(this);\n                    }\n                }\n            }\n            else if (this._viewTag !== -1 && this._styles !== null) {\n                for (const style of this._styles) {\n                    style.viewDescriptors.remove(this._viewTag);\n                }\n                if ((_a = this.props.animatedProps) === null || _a === void 0 ? void 0 : _a.viewDescriptors) {\n                    this.props.animatedProps.viewDescriptors.remove(this._viewTag);\n                }\n            }\n        }\n        _reattachNativeEvents(prevProps) {\n            const node = this._getEventViewRef();\n            const attached = new Set();\n            const nextEvts = new Set();\n            let viewTag;\n            for (const key in this.props) {\n                const prop = this.props[key];\n                if (prop instanceof AnimatedEvent) {\n                    nextEvts.add(prop.__nodeID);\n                }\n                else if (has('current', prop) &&\n                    prop.current instanceof WorkletEventHandler) {\n                    if (viewTag === undefined) {\n                        viewTag = prop.current.viewTag;\n                    }\n                }\n            }\n            for (const key in prevProps) {\n                const prop = this.props[key];\n                if (prop instanceof AnimatedEvent) {\n                    if (!nextEvts.has(prop.__nodeID)) {\n                        // event was in prev props but not in current props, we detach\n                        prop.detachEvent(node, key);\n                    }\n                    else {\n                        // event was in prev and is still in current props\n                        attached.add(prop.__nodeID);\n                    }\n                }\n                else if (has('current', prop) &&\n                    prop.current instanceof WorkletEventHandler &&\n                    prop.current.reattachNeeded) {\n                    prop.current.unregisterFromEvents();\n                }\n            }\n            for (const key in this.props) {\n                const prop = this.props[key];\n                if (prop instanceof AnimatedEvent &&\n                    !attached.has(prop.__nodeID)) {\n                    // not yet attached\n                    prop.attachEvent(node, key);\n                }\n                else if (has('current', prop) &&\n                    prop.current instanceof WorkletEventHandler &&\n                    prop.current.reattachNeeded) {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    prop.current.registerForEvents(viewTag, key);\n                    prop.current.reattachNeeded = false;\n                }\n            }\n        }\n        _attachProps(nextProps) {\n            const oldPropsAnimated = this._propsAnimated;\n            this._propsAnimated = createOrReusePropsNode(nextProps, this._animatedPropsCallback, oldPropsAnimated);\n            // If prop node has been reused we don't need to call into \"__detach\"\n            if (oldPropsAnimated !== this._propsAnimated) {\n                // When you call detach, it removes the element from the parent list\n                // of children. If it goes to 0, then the parent also detaches itself\n                // and so on.\n                // An optimization is to attach the new elements and THEN detach the old\n                // ones instead of detaching and THEN attaching.\n                // This way the intermediate state isn't to go to 0 and trigger\n                // this expensive recursive detaching to then re-attach everything on\n                // the very next operation.\n                oldPropsAnimated && oldPropsAnimated.__detach();\n            }\n        }\n        _updateFromNative(props) {\n            var _a, _b;\n            if (options === null || options === void 0 ? void 0 : options.setNativeProps) {\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                options.setNativeProps(this._component, props);\n            }\n            else {\n                // eslint-disable-next-line no-unused-expressions\n                (_b = (_a = this._component) === null || _a === void 0 ? void 0 : _a.setNativeProps) === null || _b === void 0 ? void 0 : _b.call(_a, props);\n            }\n        }\n        _attachPropUpdater() {\n            const viewTag = findNodeHandle(this);\n            NODE_MAPPING.set(viewTag, this);\n            if (NODE_MAPPING.size === 1) {\n                ReanimatedEventEmitter.addListener('onReanimatedPropsChange', listener);\n            }\n        }\n        _attachAnimatedStyles() {\n            var _a, _b, _c;\n            const styles = this.props.style\n                ? onlyAnimatedStyles(flattenArray(this.props.style))\n                : [];\n            const prevStyles = this._styles;\n            this._styles = styles;\n            const prevAnimatedProps = this._animatedProps;\n            this._animatedProps = this.props.animatedProps;\n            let viewTag;\n            let viewName;\n            if (Platform.OS === 'web') {\n                viewTag = findNodeHandle(this);\n                viewName = null;\n            }\n            else {\n                // hostInstance can be null for a component that doesn't render anything (render function returns null). Example: svg Stop: https://github.com/react-native-svg/react-native-svg/blob/develop/src/elements/Stop.tsx\n                const hostInstance = RNRenderer.findHostInstance_DEPRECATED(this);\n                if (!hostInstance) {\n                    throw new Error('Cannot find host instance for this component. Maybe it renders nothing?');\n                }\n                // we can access view tag in the same way it's accessed here https://github.com/facebook/react/blob/e3f4eb7272d4ca0ee49f27577156b57eeb07cf73/packages/react-native-renderer/src/ReactFabric.js#L146\n                viewTag = hostInstance === null || hostInstance === void 0 ? void 0 : hostInstance._nativeTag;\n                /**\n                 * RN uses viewConfig for components for storing different properties of the component(example: https://github.com/facebook/react-native/blob/master/Libraries/Components/ScrollView/ScrollViewViewConfig.js#L16).\n                 * The name we're looking for is in the field named uiViewClassName.\n                 */\n                viewName = (_a = hostInstance === null || hostInstance === void 0 ? void 0 : hostInstance.viewConfig) === null || _a === void 0 ? void 0 : _a.uiViewClassName;\n                // update UI props whitelist for this view\n                const hasReanimated2Props = ((_b = this.props.animatedProps) === null || _b === void 0 ? void 0 : _b.viewDescriptors) || styles.length;\n                if (hasReanimated2Props && (hostInstance === null || hostInstance === void 0 ? void 0 : hostInstance.viewConfig)) {\n                    adaptViewConfig(hostInstance.viewConfig);\n                }\n            }\n            this._viewTag = viewTag;\n            // remove old styles\n            if (prevStyles) {\n                // in most of the cases, views have only a single animated style and it remains unchanged\n                const hasOneSameStyle = styles.length === 1 &&\n                    prevStyles.length === 1 &&\n                    isSameAnimatedStyle(styles[0], prevStyles[0]);\n                if (!hasOneSameStyle) {\n                    // otherwise, remove each style that is not present in new styles\n                    for (const prevStyle of prevStyles) {\n                        const isPresent = styles.some((style) => isSameAnimatedStyle(style, prevStyle));\n                        if (!isPresent) {\n                            prevStyle.viewDescriptors.remove(viewTag);\n                        }\n                    }\n                }\n            }\n            styles.forEach((style) => {\n                style.viewDescriptors.add({ tag: viewTag, name: viewName });\n                if (isJest()) {\n                    /**\n                     * We need to connect Jest's TestObject instance whose contains just props object\n                     * with the updateProps() function where we update the properties of the component.\n                     * We can't update props object directly because TestObject contains a copy of props - look at render function:\n                     * const props = this._filterNonAnimatedProps(this.props);\n                     */\n                    this.animatedStyle.value = Object.assign(Object.assign({}, this.animatedStyle.value), style.initial.value);\n                    style.animatedStyle.current = this.animatedStyle;\n                }\n            });\n            // detach old animatedProps\n            if (prevAnimatedProps &&\n                !isSameAnimatedProps(prevAnimatedProps, this.props.animatedProps)) {\n                prevAnimatedProps.viewDescriptors.remove(viewTag);\n            }\n            // attach animatedProps property\n            if ((_c = this.props.animatedProps) === null || _c === void 0 ? void 0 : _c.viewDescriptors) {\n                this.props.animatedProps.viewDescriptors.add({\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    tag: viewTag,\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    name: viewName,\n                });\n            }\n        }\n        _detachPropUpdater() {\n            const viewTag = findNodeHandle(this);\n            NODE_MAPPING.delete(viewTag);\n            if (NODE_MAPPING.size === 0) {\n                ReanimatedEventEmitter.removeAllListeners('onReanimatedPropsChange');\n            }\n        }\n        componentDidUpdate(prevProps) {\n            this._attachProps(this.props);\n            this._reattachNativeEvents(prevProps);\n            this._propsAnimated &&\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                this._propsAnimated.setNativeView(this._component);\n            this._attachAnimatedStyles();\n        }\n        _filterNonAnimatedStyle(inputStyle) {\n            const style = {};\n            for (const key in inputStyle) {\n                const value = inputStyle[key];\n                if (!hasAnimatedNodes(value)) {\n                    style[key] = value;\n                }\n                else if (value instanceof AnimatedValue) {\n                    // if any style in animated component is set directly to the `Value` we set those styles to the first value of `Value` node in order\n                    // to avoid flash of default styles when `Value` is being asynchrounously sent via bridge and initialized in the native side.\n                    style[key] = value._startingValue;\n                }\n            }\n            return style;\n        }\n        _filterNonAnimatedProps(inputProps) {\n            const props = {};\n            for (const key in inputProps) {\n                const value = inputProps[key];\n                if (key === 'style') {\n                    const styleProp = inputProps.style;\n                    const styles = flattenArray(styleProp !== null && styleProp !== void 0 ? styleProp : []);\n                    const processedStyle = styles.map((style) => {\n                        if (style && style.viewDescriptors) {\n                            // this is how we recognize styles returned by useAnimatedStyle\n                            style.viewsRef.add(this);\n                            if (this._isFirstRender) {\n                                return Object.assign(Object.assign({}, style.initial.value), initialUpdaterRun(style.initial.updater));\n                            }\n                            else {\n                                return style.initial.value;\n                            }\n                        }\n                        else {\n                            return style;\n                        }\n                    });\n                    props[key] = this._filterNonAnimatedStyle(StyleSheet.flatten(processedStyle));\n                }\n                else if (key === 'animatedProps') {\n                    const animatedProp = inputProps.animatedProps;\n                    if (animatedProp.initial !== undefined) {\n                        Object.keys(animatedProp.initial.value).forEach((key) => {\n                            var _a, _b;\n                            props[key] = (_a = animatedProp.initial) === null || _a === void 0 ? void 0 : _a.value[key];\n                            (_b = animatedProp.viewsRef) === null || _b === void 0 ? void 0 : _b.add(this);\n                        });\n                    }\n                }\n                else if (value instanceof AnimatedEvent) {\n                    // we cannot filter out event listeners completely as some components\n                    // rely on having a callback registered in order to generate events\n                    // alltogether. Therefore we provide a dummy callback here to allow\n                    // native event dispatcher to hijack events.\n                    props[key] = dummyListener;\n                }\n                else if (has('current', value) &&\n                    value.current instanceof WorkletEventHandler) {\n                    if (value.current.eventNames.length > 0) {\n                        value.current.eventNames.forEach((eventName) => {\n                            props[eventName] = has('listeners', value.current)\n                                ? value.current.listeners[eventName]\n                                : dummyListener;\n                        });\n                    }\n                    else {\n                        props[key] = dummyListener;\n                    }\n                }\n                else if (!(value instanceof AnimatedNode)) {\n                    if (key !== 'onGestureHandlerStateChange' || !isChromeDebugger()) {\n                        props[key] = value;\n                    }\n                }\n                else if (value instanceof AnimatedValue) {\n                    // if any prop in animated component is set directly to the `Value` we set those props to the first value of `Value` node in order\n                    // to avoid default values for a short moment when `Value` is being asynchrounously sent via bridge and initialized in the native side.\n                    props[key] = value._startingValue;\n                }\n            }\n            return props;\n        }\n        render() {\n            const props = this._filterNonAnimatedProps(this.props);\n            if (isJest()) {\n                props.animatedStyle = this.animatedStyle;\n            }\n            if (this._isFirstRender) {\n                this._isFirstRender = false;\n            }\n            const platformProps = Platform.select({\n                web: {},\n                default: { collapsable: false },\n            });\n            return (<Component {...props} ref={this._setComponentRef} {...platformProps}/>);\n        }\n    }\n    AnimatedComponent.displayName = `AnimatedComponent(${Component.displayName || Component.name || 'Component'})`;\n    return React.forwardRef((props, ref) => {\n        return (<AnimatedComponent {...props} {...(ref === null ? null : { forwardedRef: ref })}/>);\n    });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}