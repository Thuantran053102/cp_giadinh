{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _NativeReanimated=_interopRequireDefault(require(\"./NativeReanimated\"));function jsListener(eventName,handler){return function(evt){handler((0,_extends2.default)((0,_extends2.default)({},evt.nativeEvent),{eventName:eventName}));};}var WorkletEventHandler=function(){function WorkletEventHandler(worklet){var eventNames=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];(0,_classCallCheck2.default)(this,WorkletEventHandler);this.worklet=worklet;this.eventNames=eventNames;this.reattachNeeded=false;this.listeners={};this.viewTag=undefined;this.registrations=[];if(!_NativeReanimated.default.native){this.listeners=eventNames.reduce(function(acc,eventName){acc[eventName]=jsListener(eventName,worklet);return acc;},{});}}(0,_createClass2.default)(WorkletEventHandler,[{key:\"updateWorklet\",value:function updateWorklet(newWorklet){this.worklet=newWorklet;this.reattachNeeded=true;}},{key:\"registerForEvents\",value:function registerForEvents(viewTag,fallbackEventName){var _this=this;this.viewTag=viewTag;this.registrations=this.eventNames.map(function(eventName){return _NativeReanimated.default.registerEventHandler(viewTag+eventName,_this.worklet);});if(this.registrations.length===0&&fallbackEventName){this.registrations.push(_NativeReanimated.default.registerEventHandler(viewTag+fallbackEventName,this.worklet));}}},{key:\"unregisterFromEvents\",value:function unregisterFromEvents(){this.registrations.forEach(function(id){return _NativeReanimated.default.unregisterEventHandler(id);});this.registrations=[];}}]);return WorkletEventHandler;}();exports.default=WorkletEventHandler;","map":{"version":3,"names":["jsListener","eventName","handler","evt","nativeEvent","WorkletEventHandler","worklet","eventNames","reattachNeeded","listeners","viewTag","undefined","registrations","NativeReanimatedModule","native","reduce","acc","newWorklet","fallbackEventName","map","registerEventHandler","length","push","forEach","id","unregisterEventHandler"],"sources":["D:/React_Native/SourceCode_VPM_Swine/node_modules/react-native-reanimated/lib/reanimated2/WorkletEventHandler.js"],"sourcesContent":["import NativeReanimatedModule from './NativeReanimated';\nfunction jsListener(eventName, handler) {\n    return (evt) => {\n        handler(Object.assign(Object.assign({}, evt.nativeEvent), { eventName }));\n    };\n}\nexport default class WorkletEventHandler {\n    constructor(worklet, eventNames = []) {\n        this.worklet = worklet;\n        this.eventNames = eventNames;\n        this.reattachNeeded = false;\n        this.listeners = {};\n        this.viewTag = undefined;\n        this.registrations = [];\n        if (!NativeReanimatedModule.native) {\n            this.listeners = eventNames.reduce((acc, eventName) => {\n                acc[eventName] = jsListener(eventName, worklet);\n                return acc;\n            }, {});\n        }\n    }\n    updateWorklet(newWorklet) {\n        this.worklet = newWorklet;\n        this.reattachNeeded = true;\n    }\n    registerForEvents(viewTag, fallbackEventName) {\n        this.viewTag = viewTag;\n        this.registrations = this.eventNames.map((eventName) => NativeReanimatedModule.registerEventHandler(viewTag + eventName, this.worklet));\n        if (this.registrations.length === 0 && fallbackEventName) {\n            this.registrations.push(NativeReanimatedModule.registerEventHandler(viewTag + fallbackEventName, this.worklet));\n        }\n    }\n    unregisterFromEvents() {\n        this.registrations.forEach((id) => NativeReanimatedModule.unregisterEventHandler(id));\n        this.registrations = [];\n    }\n}\n"],"mappings":"yaAAA,4EACA,QAASA,WAAT,CAAoBC,SAApB,CAA+BC,OAA/B,CAAwC,CACpC,MAAO,UAACC,GAAD,CAAS,CACZD,OAAO,CAAC,sBAAc,sBAAc,EAAd,CAAkBC,GAAG,CAACC,WAAtB,CAAd,CAAkD,CAAEH,SAAS,CAATA,SAAF,CAAlD,CAAD,CAAP,CACH,CAFD,CAGH,C,GACoBI,oB,YACjB,6BAAYC,OAAZ,CAAsC,IAAjBC,WAAiB,2DAAJ,EAAI,wDAClC,KAAKD,OAAL,CAAeA,OAAf,CACA,KAAKC,UAAL,CAAkBA,UAAlB,CACA,KAAKC,cAAL,CAAsB,KAAtB,CACA,KAAKC,SAAL,CAAiB,EAAjB,CACA,KAAKC,OAAL,CAAeC,SAAf,CACA,KAAKC,aAAL,CAAqB,EAArB,CACA,GAAI,CAACC,yBAAA,CAAuBC,MAA5B,CAAoC,CAChC,KAAKL,SAAL,CAAiBF,UAAU,CAACQ,MAAX,CAAkB,SAACC,GAAD,CAAMf,SAAN,CAAoB,CACnDe,GAAG,CAACf,SAAD,CAAH,CAAiBD,UAAU,CAACC,SAAD,CAAYK,OAAZ,CAA3B,CACA,MAAOU,IAAP,CACH,CAHgB,CAGd,EAHc,CAAjB,CAIH,CACJ,C,0EACD,uBAAcC,UAAd,CAA0B,CACtB,KAAKX,OAAL,CAAeW,UAAf,CACA,KAAKT,cAAL,CAAsB,IAAtB,CACH,C,iCACD,2BAAkBE,OAAlB,CAA2BQ,iBAA3B,CAA8C,gBAC1C,KAAKR,OAAL,CAAeA,OAAf,CACA,KAAKE,aAAL,CAAqB,KAAKL,UAAL,CAAgBY,GAAhB,CAAoB,SAAClB,SAAD,QAAeY,0BAAA,CAAuBO,oBAAvB,CAA4CV,OAAO,CAAGT,SAAtD,CAAiE,KAAI,CAACK,OAAtE,CAAf,EAApB,CAArB,CACA,GAAI,KAAKM,aAAL,CAAmBS,MAAnB,GAA8B,CAA9B,EAAmCH,iBAAvC,CAA0D,CACtD,KAAKN,aAAL,CAAmBU,IAAnB,CAAwBT,yBAAA,CAAuBO,oBAAvB,CAA4CV,OAAO,CAAGQ,iBAAtD,CAAyE,KAAKZ,OAA9E,CAAxB,EACH,CACJ,C,oCACD,+BAAuB,CACnB,KAAKM,aAAL,CAAmBW,OAAnB,CAA2B,SAACC,EAAD,QAAQX,0BAAA,CAAuBY,sBAAvB,CAA8CD,EAA9C,CAAR,EAA3B,EACA,KAAKZ,aAAL,CAAqB,EAArB,CACH,C"},"metadata":{},"sourceType":"script"}